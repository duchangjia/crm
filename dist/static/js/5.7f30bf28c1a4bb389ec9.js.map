{"version":3,"sources":["webpack:///src/pages/system/children/department.vue","webpack:///./src/pages/system/children/department.vue?49c4","webpack:///./src/pages/system/children/department.vue","webpack:///src/pages/system/children/employee-update.vue","webpack:///./src/pages/system/children/employee-update.vue?0514","webpack:///./src/pages/system/children/employee-update.vue","webpack:///src/pages/system/children/employee.vue","webpack:///./src/pages/system/children/employee.vue?6abc","webpack:///./src/pages/system/children/employee.vue","webpack:///src/pages/system/department.vue","webpack:///./src/pages/system/department.vue?2c39","webpack:///./src/pages/system/department.vue"],"names":["department","data","departmentTree","departmentOptions","id","label","saleOptions","isAdd","updateVisible","updateParams","deptName","type","updateLevel","updateType","updateRelevIds","updateRules","required","message","trigger","min","max","relevIds","computed","extends_default","Object","vuex_esm","userInfo","state","user","watch","val","this","join","created","getList","methods","_this","API","qryDept","then","res","result","length","handleDept","deptLevel","$emit","catch","err","console","log","list","hasPerm","vm","forEach","listItem","nodePerm","deptIdFk","children","qryDeptSaleById","_this2","level","split","item","push","parseInt","deptId","handleSelect","e","handleStop","stopPropagation","cancelBubble","handleUpdate","$message","parentDeptId","handleDelete","_this3","$confirm","action","delDept","beforeSubmit","formName","_this4","$refs","validate","valid","handleSubmit","_this5","apiName","renderContent","h","_ref","_this6","node","store","class","on","click","attrs","src","title","children_department","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","accordion","render-content","highlight-current","_e","visible","close-on-click-modal","width","update:visible","$event","ref","model","rules","label-width","prop","staticStyle","disabled","placeholder","value","callback","$$v","$set","expression","_l","key","multiple","slot","staticRenderFns","system_children_department","__webpack_require__","normalizeComponent","ssrContext","employee_update","props","page","params","status","roleIdFk","pageIndex","pageSize","statusOptions","roleOptions","updateDeptId","departmentProps","updateDepartment","updateRoleOptions","oldVal","search","qryRole","qryUser","handlePageChange","getDeptRole","deptType","transformPassword","password","userId","_find","obj","formInline","select","name","default","ID","mobile","findFormInline","tissueGetSeat","i","seatDataWatch","tabEdit","tabEditWarp","requiredOBJ","isLabel","isAlertList","seatAddChild","newsFormInline","newsEnter","_this7","seatgetUserAddUser","sessionStorage","setItem","stringify_default","JSON","parse","getItem","tableData","clear","dialogFormVisible","editEase","EditList","dialogFormVisibleEdit","editEnter","edit","index","EditId","$index","RmovehandleClick","scope","_this8","row","confirmButtonText","cancelButtonText","seatRemoveUser","indexedit","children_employee_update","inline","resetField","options","show-all-levels","change-on-select","expand-trigger","roleName","roleId","employee","components","EmployeeUpdate","employee_update_normalizeComponent","loading","searchFieldName","searchField","0","1","2","updateTypeLevel","userName","deptInfo","departmentNew","selectedDept","isClear","getTypeLevel","deptRole","beforeSearch","delUser","callSeat","assign_default","$trim","md5_default","_this9","_this10","_this11","children_employee","$root","perm","size","font-weight","style","clearable","page-data","change","scopedSlots","_u","fn","_s","fixed","blur","system_department","Department","Employee","employee_normalizeComponent","pages_system_department","selected-dept","department_Component","department_normalizeComponent","__webpack_exports__"],"mappings":"sOAyDAA,GACAC,KADA,WAEA,OAUAC,kBACAC,oBACAC,GAAA,EAAAC,MAAA,SACAD,GAAA,EAAAC,MAAA,SACAD,GAAA,EAAAC,MAAA,SACAD,GAAA,EAAAC,MAAA,SAEAC,cACAF,GAAA,GAAAC,MAAA,SACAD,GAAA,GAAAC,MAAA,SAEAE,OAAA,EACAC,eAAA,EACAC,cACAC,SAAA,GACAC,KAAA,IAEAC,YAAA,EACAC,WAAA,EACAC,kBACAC,aACAL,WACAM,UAAA,EAAAC,QAAA,SAAAC,QAAA,SACAC,IAAA,EAAAC,IAAA,GAAAH,QAAA,iBAAAC,QAAA,SAEAP,OACAK,UAAA,EAAAC,QAAA,SAAAC,QAAA,WAEAG,WACAL,UAAA,EAAAC,QAAA,UAAAC,QAAA,cAKAI,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EACAE,SAAA,SAAAC,GAAA,OAAAA,EAAAC,KAAAF,aAGAG,OACAf,eADA,SACAgB,GACAC,KAAAtB,aAAAY,SAAAS,EAAAE,KAAA,OAGAC,QAxDA,WAyDAF,KAAAG,WAEAC,SACAD,QADA,WACA,IAAAE,EAAAL,KAEAA,KAAAM,IAAAC,UAAAC,KAAA,SAAAC,GAEAA,EAAAC,QAAAD,EAAAC,OAAAC,SACAN,EAAAlC,eAAAsC,EAAAC,OAEAL,EAAAO,WAAAP,EAAAlC,eAAA,GAAAkC,EAAAV,SAAAkB,YAEAR,EAAAS,MAAA,eACAC,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,YAGA0B,WAfA,SAeAO,EAAAC,GACA,IAAAC,EAAArB,KACAmB,KAAAR,QACAQ,EAAAG,QAAA,SAAAC,GACA,IAAAC,EAAAJ,GAAAC,EAAA1B,SAAA8B,UAAAF,EAAAlD,GACAkD,EAAAH,QAAAI,EAEAD,EAAAG,UAAAH,EAAAG,SAAAf,QACAU,EAAAT,WAAAW,EAAAG,SAAAF,MAKAG,gBA5BA,SA4BAzD,EAAAM,GAAA,IAAAoD,EAAA5B,KACA,OAAA9B,EAAA2D,OAAArD,GAAA,GAAAN,EAAA2D,QAAA,GAAA3D,EAAAU,KAAA,CAEA,GADAoB,KAAAjB,kBACA,GAAAb,EAAA2D,MAEA,GAAA3D,EAAAoB,UAAApB,EAAAoB,SAAAqB,OACAzC,EAAAoB,SAAAwC,MAAA,KACAR,QAAA,SAAAS,GACAH,EAAA7C,eAAAiD,KAAAC,SAAAF,MAKA/B,KAAAM,IAAAqB,iBAAAO,OAAAhE,EAAAG,KAAAmC,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,GACAmB,EAAArD,YAAAkC,EAAAC,WAKAyB,aAhDA,SAgDAC,EAAAlE,GACA8B,KAAAc,MAAA,SAAA5C,IAEAmE,WAnDA,SAmDAD,GACAA,EAAAE,gBACAF,EAAAE,kBAEAF,EAAAG,cAAA,GAGAC,aA1DA,SA0DAJ,EAAAlE,EAAAM,GAMA,GALAwB,KAAAqC,WAAAD,GACAnB,QAAAC,IAAAhD,GAEA8B,KAAA2B,gBAAAzD,EAAAM,GAEAA,EAAA,CAGA,GAFAwB,KAAAxB,OAAA,EAEAN,EAAA2D,OAAA,EAKA,YAJA7B,KAAAyC,UACAvD,QAAA,SACAN,KAAA,YAKAoB,KAAAtB,cACAgE,aAAAxE,EAAAG,IAGA,GAAAH,EAAA2D,QACA7B,KAAAtB,aAAAE,KAAAV,EAAAU,WAGAoB,KAAAxB,OAAA,EACAwB,KAAAtB,cACAwD,OAAAhE,EAAAG,GACAM,SAAAT,EAAAI,MACAM,KAAAV,EAAAU,MAKAoB,KAAAnB,YAAAX,EAAA2D,MACA7B,KAAAlB,WAAAZ,EAAAU,KACAoB,KAAAvB,eAAA,GAEAkE,aAhGA,SAgGAP,EAAAlE,GAAA,IAAA0E,EAAA5C,KACAA,KAAAqC,WAAAD,GAaApC,KAAA6C,SAAA,UAAA3E,EAAAI,MAAA,cAAAkC,KAAA,SAAAsC,GACA,YAAAA,GACAF,EAAAtC,IAAAyC,SAAAb,OAAAhE,EAAAG,KAAAmC,KAAA,SAAAC,GACAmC,EAAAH,UACA7D,KAAA,UACAM,QAAA,UAEA0D,EAAAzC,eAMA6C,aA3HA,SA2HAC,GAAA,IAAAC,EAAAlD,KACAA,KAAAmD,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EAKA,OADApC,QAAAC,IAAA,mBACA,EAJAgC,EAAAzE,eAAA,EACAyE,EAAAI,kBAOAA,aAtIA,WAsIA,IAAAC,EAAAvD,KACAwD,EAAAxD,KAAAxB,MAAA,oBACAwB,KAAAM,IAAAkD,GAAAxD,KAAAtB,cAAA8B,KAAA,SAAAC,GACA8C,EAAAd,UACA7D,KAAA,UACAM,QAAA,UAEAqE,EAAApD,aAGAsD,cAhJA,SAgJAC,EAhJAC,GAgJA,IAAAC,EAAA5D,KAAA6D,EAAAF,EAAAE,KAAA3F,EAAAyF,EAAAzF,KAAAyF,EAAAG,MACA,OAAA5F,EAAAkD,QACA,GAAAlD,EAAA2D,OAAA,GAAA3D,EAAAU,KAEA8E,EAAA,QAAAK,MAAA,gBACAL,EAAA,QAAAK,MAAA,QAAAC,IAAAC,MAAA,SAAA7B,GAAAwB,EAAAzB,aAAAC,EAAAlE,OAAA2F,EAAAvF,QAEAoF,EAAA,KAAAK,MAAA,SACAL,EAAA,OAAAQ,OAAAC,IAAA,8BAAAC,MAAA,MAAAJ,IAAAC,MAAA,SAAA7B,GAAAwB,EAAApB,aAAAJ,EAAAlE,OACAwF,EAAA,OAAAQ,OAAAC,IAAA,gCAAAC,MAAA,MAAAJ,IAAAC,MAAA,SAAA7B,GAAAwB,EAAAjB,aAAAP,EAAAlE,WAKAwF,EAAA,QAAAK,MAAA,gBACAL,EAAA,QAAAK,MAAA,QAAAC,IAAAC,MAAA,SAAA7B,GAAAwB,EAAAzB,aAAAC,EAAAlE,OAAA2F,EAAAvF,QAEAoF,EAAA,KAAAK,MAAA,SACAL,EAAA,OAAAQ,OAAAC,IAAA,6BAAAC,MAAA,MAAAJ,IAAAC,MAAA,SAAA7B,GAAAwB,EAAApB,aAAAJ,EAAAlE,EAAA,OACAwF,EAAA,OAAAQ,OAAAC,IAAA,8BAAAC,MAAA,MAAAJ,IAAAC,MAAA,SAAA7B,GAAAwB,EAAApB,aAAAJ,EAAAlE,OACAwF,EAAA,OAAAQ,OAAAC,IAAA,gCAAAC,MAAA,MAAAJ,IAAAC,MAAA,SAAA7B,GAAAwB,EAAAjB,aAAAP,EAAAlE,WAMAwF,EAAA,QAAAK,MAAA,gBACAL,EAAA,QAAAK,MAAA,QAAAC,IAAAC,MAAA,SAAA7B,GAAAwB,EAAAzB,aAAAC,EAAAlE,OAAA2F,EAAAvF,aC5RA+F,GADiBC,OAFjB,WAA0B,IAAAC,EAAAvE,KAAawE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAmBL,EAAAM,GAAA,GAAAN,EAAAO,GAAA,KAAAP,EAAApG,eAAA,OAAAuG,EAAA,WAAkEE,YAAA,YAAAV,OAA+Ba,UAAA,GAAA7G,KAAAqG,EAAApG,eAAA6G,iBAAAT,EAAAd,cAAAwB,qBAAA,KAAsGV,EAAAW,KAAAX,EAAAO,GAAA,KAAAJ,EAAA,aAAuCE,YAAA,cAAAV,OAAiCE,MAAAG,EAAA7F,aAAAwD,OAAA,cAAAiD,QAAAZ,EAAA9F,cAAA2G,wBAAA,EAAAC,MAAA,SAA2HrB,IAAKsB,iBAAA,SAAAC,GAAkChB,EAAA9F,cAAA8G,MAA2Bb,EAAA,WAAgBc,IAAA,aAAAZ,YAAA,gBAAAV,OAAoDuB,MAAAlB,EAAA7F,aAAAgH,MAAAnB,EAAAvF,YAAA2G,cAAA,WAAwE,GAAApB,EAAA1F,aAAA0F,EAAA/F,OAAA,GAAA+F,EAAA1F,cAAA0F,EAAA/F,MAAAkG,EAAA,gBAAmGR,OAAO5F,MAAA,OAAAsH,KAAA,UAA8BlB,EAAA,aAAkBmB,aAAaR,MAAA,SAAgBnB,OAAQ4B,WAAAvB,EAAA7F,aAAAwD,OAAA6D,YAAA,WAA6DN,OAAQO,MAAAzB,EAAA7F,aAAA,KAAAuH,SAAA,SAAAC,GAAuD3B,EAAA4B,KAAA5B,EAAA7F,aAAA,OAAAwH,IAAwCE,WAAA,sBAAiC7B,EAAA8B,GAAA9B,EAAA,2BAAAxC,GAA+C,OAAA2C,EAAA,aAAuB4B,IAAAvE,EAAA1D,GAAA6F,OAAmB5F,MAAAyD,EAAAzD,MAAA0H,MAAAjE,EAAA1D,UAAsC,GAAAkG,EAAAW,KAAAX,EAAAO,GAAA,KAAAJ,EAAA,gBAA+CR,OAAO5F,MAAA,OAAAsH,KAAA,WAAAG,YAAA,aAA0DrB,EAAA,YAAiBmB,aAAaR,MAAA,SAAgBI,OAAQO,MAAAzB,EAAA7F,aAAA,SAAAuH,SAAA,SAAAC,GAA2D3B,EAAA4B,KAAA5B,EAAA7F,aAAA,WAAAwH,IAA4CE,WAAA,4BAAqC,GAAA7B,EAAAO,GAAA,QAAAP,EAAAzF,aAAA,GAAAyF,EAAA1F,aAAA0F,EAAA/F,OAAA,GAAA+F,EAAA1F,aAAA6F,EAAA,gBAA4HR,OAAO5F,MAAA,UAAAsH,KAAA,cAAqClB,EAAA,aAAkBmB,aAAaR,MAAA,SAAgBnB,OAAQqC,SAAA,GAAAR,YAAA,UAAqCN,OAAQO,MAAAzB,EAAA,eAAA0B,SAAA,SAAAC,GAAoD3B,EAAAxF,eAAAmH,GAAuBE,WAAA,mBAA8B7B,EAAA8B,GAAA9B,EAAA,qBAAAxC,GAAyC,OAAA2C,EAAA,aAAuB4B,IAAAvE,EAAAG,OAAAgC,OAAuB5F,MAAAyD,EAAApD,SAAAqH,MAAAjE,EAAAG,cAA6C,GAAAqC,EAAAW,MAAA,GAAAX,EAAAO,GAAA,KAAAJ,EAAA,OAA0CE,YAAA,gBAAAV,OAAmCsC,KAAA,UAAgBA,KAAA,WAAe9B,EAAA,aAAkBV,IAAIC,MAAA,SAAAsB,GAAyBhB,EAAA9F,eAAA,MAA4B8F,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA8CR,OAAOtF,KAAA,WAAiBoF,IAAKC,MAAA,SAAAsB,GAAyBhB,EAAAvB,aAAA,kBAAiCuB,EAAAO,GAAA,qBAE9yE2B,iBADjB,WAAoC,IAAajC,EAAbxE,KAAayE,eAA0BC,EAAvC1E,KAAuC2E,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,MAAtG1E,KAAsG8E,GAAA,eCG1I,IAuBA4B,EAvBAC,EAAA,OAcAC,CACA3I,EACAoG,GATA,EAXA,SAAAwC,GACAF,EAAA,QACAA,EAAA,SAaA,kBAEA,MAUA,uECyBAG,GACAC,OAAA,UACA7I,KAFA,WAGA,OACAiD,QACA6F,QACAC,QACAxF,SAAA,GACAyF,OAAA,GACAC,SAAA,GACAC,UAAA,EACAC,SAAA,IAEAC,gBACAjJ,GAAA,EAAAC,MAAA,OACAD,GAAA,EAAAC,MAAA,OAEAiJ,eAEAC,aAAA,GACA/I,eAAA,EACAC,cACAC,SAAA,GACAC,KAAA,IAEAT,kBACAsJ,iBACAnJ,MAAA,QACA0H,MAAA,MAGA0B,oBACAC,qBACA3I,aACAL,WACAM,UAAA,EAAAC,QAAA,SAAAC,QAAA,SACAC,IAAA,EAAAC,IAAA,GAAAH,QAAA,iBAAAC,QAAA,SAEAP,OACAK,UAAA,EAAAC,QAAA,SAAAC,QAAA,cAKAI,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EACAE,SAAA,SAAAC,GAAA,OAAAA,EAAAC,KAAAF,aAGAG,OACAoC,OADA,SACAnC,EAAA6H,GACA3G,QAAAC,IAAAnB,EAAA6H,GACA5H,KAAAiH,QACAxF,SAAA1B,GAEAC,KAAA6H,WAGA3H,QA1DA,WA0DA,IAAAG,EAAAL,KAEAA,KAAAM,IAAAwH,UAAAtH,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,GACAJ,EAAAkH,YAAA9G,EAAAC,SAGAV,KAAAM,IAAAC,SAAA2B,OAAAlC,KAAAL,SAAA8B,WAAAjB,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,GACAJ,EAAAlC,eAAAsC,EAAAC,UAGAN,SACAyH,OADA,WACA,IAAAjG,EAAA5B,KACAA,KAAAM,IAAAyH,QAAA/H,KAAAiH,QAAAzG,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,GACAmB,EAAAT,KAAAV,EAAAC,OACAkB,EAAAoF,KAAAvG,EAAAuG,QAGAgB,iBARA,SAQAZ,GACApH,KAAAiH,OAAAG,YACApH,KAAA6H,UAEAI,YAZA,WAaA,IAAAhB,GACArI,KAAAoB,KAAAL,SAAAuI,SACArG,MAAA7B,KAAAL,SAAAkB,WAEAb,KAAAM,IAAA2H,YAAAhB,GAAAzG,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,MAGAkC,aArBA,SAqBAZ,KAGAS,aAxBA,SAwBAT,GACA/B,KAAAvB,eAAA,EAEAuB,KAAAiI,cAEAlG,GACA/B,KAAAtB,aAAAqD,EACA/B,KAAAwH,cAAAzF,EAAAN,UACAzB,KAAAtB,aAAAyJ,kBAAApG,EAAAqG,UAYApI,KAAAtB,iBAIAsE,aAhDA,SAgDAC,GAAA,IAAAL,EAAA5C,KACAA,KAAAmD,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EAMA,OADApC,QAAAC,IAAA,mBACA,EALA0B,EAAAnE,eAAA,EACAmE,EAAAlE,aAAA+C,SAAAmB,EAAA4E,aAAA5E,EAAA4E,aAAA7G,OAAA,GACAiC,EAAAU,kBAOAA,aA5DA,WA4DA,IAAAJ,EAAAlD,KACAwD,EAAAxD,KAAAtB,aAAA2J,OAAA,oBACArI,KAAAM,IAAAkD,GAAAxD,KAAAtB,cAAA8B,KAAA,SAAAC,GACAyC,EAAAT,UACA7D,KAAA,UACAM,QAAA,UAEAgE,EAAA2E,YAIAS,MAvEA,WAuEA,IAAA/E,EAAAvD,KACAuI,KACA,GAAAvI,KAAAwI,WAAAC,SAAAF,EAAAG,KAAA1I,KAAAwI,WAAAG,SACA,GAAA3I,KAAAwI,WAAAC,SAAAF,EAAAK,GAAA5I,KAAAwI,WAAAG,SACA,GAAA3I,KAAAwI,WAAAC,SAAAF,EAAAM,OAAA7I,KAAAwI,WAAAG,SACA,MAAA3I,KAAA8I,eAAA,GAAAH,UAAAJ,EAAArB,OAAA,GACA,MAAAlH,KAAA8I,eAAA,GAAAH,UAAAJ,EAAArB,OAAA,GACAqB,EAAApB,SAAAnH,KAAA8I,eAAA,GAAAH,QACA3I,KAAAM,IAAAyI,cAAAR,GACA/H,KAAA,SAAAC,GAGA,IAFA,IAAAU,EAAAV,EAAAC,OAEAsI,EAAA,EAAAA,EAAA7H,EAAAR,OAAAqI,IACA,GAAA7H,EAAA6H,GAAA9B,OACA/F,EAAA6H,GAAA9B,OAAA,KAGA/F,EAAA6H,GAAA9B,OAAA,KAGA3D,EAAA0F,cAAA9H,IACAJ,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,YAIAgK,QAjGA,SAiGAjD,EAAAK,GAEA,gBAAAA,EACAtG,KAAAmJ,YAAAlD,EAAAK,EAAA,cAEAtG,KAAAoJ,YAAA3H,SAAAwE,OAGA,iBAAAK,EAEA,GAAAtG,KAAAqJ,SAAA,GAAArJ,KAAAqJ,SAAA,GAAArJ,KAAAqJ,SACArJ,KAAAmJ,YAAAlD,EAAAK,EAAA,cAEAtG,KAAAoJ,YAAA3H,SAAAwE,GAGA,GAAAjG,KAAAqJ,SACArJ,KAAAmJ,YAAAlD,EAAAK,EAAA,cAEAtG,KAAAoJ,YAAA3H,SAAAwE,IAIAjG,KAAAmJ,YAAAlD,EAAAK,EAAA,YAEAtG,KAAAoJ,YAAA3H,SAAAwE,QAIA,eAAAK,EACAtG,KAAAmJ,YAAAlD,EAAAK,EAAA,iBAEAtG,KAAAoJ,YAAA3H,SAAAwE,OAGA,oBAAAK,EAEAtG,KAAAoJ,YAAA3H,SAAAwE,OAIA,iBAAAK,EACAtG,KAAAmJ,YAAAlD,EAAAK,EAAA,wBAGA,oBAAAA,EAIA,OAHAtG,KAAAqJ,QAAApD,EACAjG,KAAAoJ,YAAAjC,SAAAlB,OACAjG,KAAAsJ,YAAArD,IAKAkD,YAtJA,SAsJAlD,EAAAK,EAAAiC,GAAA,IAAA3E,EAAA5D,KACAA,KAAAM,IAAAiJ,cACArH,OAAA+D,IAEAzF,KAAA,SAAAC,GACA,IAAAU,EAAAV,EAAAC,OAcAkD,EAAA4F,eAAAjB,GAAApH,SACAJ,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,YAIAuK,UA/KA,SA+KAxG,GAAA,IAAAyG,EAAA1J,KAEA,QAAAsG,KAAAtG,KAAAwJ,eACAxJ,KAAAoJ,YAAA9C,GAAAtG,KAAAwJ,eAAAlD,GAAAqC,QAGA3I,KAAAmD,MAAAF,GAAAG,SAAA,SAAAC,GACA,GAAAA,EAAA,CAMAqG,EAAApJ,IAAAqJ,mBAAAD,EAAAN,aACA5I,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,KACAM,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,WAGA0K,eAAAC,QAAA,iBAAAC,IAAAJ,EAAAF,iBACA,IAAAA,EAAAO,KAAAC,MAAAJ,eAAAK,QAAA,mBACAP,EAAAQ,UAAAlI,KAAAwH,GACAI,eAAAO,MAAA,kBACAT,EAAAU,mBAAA,MAMAC,SA7MA,WA+MArK,KAAAsK,SAAAP,KAAAC,MAAAJ,eAAAK,QAAA,cACAjK,KAAAuK,uBAAA,EACAX,eAAAO,MAAA,cAGAK,UApNA,WAsNAvJ,QAAAC,IAAAlB,KAAAkK,WACAlK,KAAAuK,uBAAA,EACAX,eAAAO,MAAA,cAGAM,KA3NA,SA2NArI,EAAAsI,GACAzJ,QAAAC,IAAAkB,GASAwH,eAAAO,MAAA,aACAP,eAAAC,QAAA,YAAAC,IAAA1H,IACApC,KAAAuK,uBAAA,EACAvK,KAAA2K,OAAAD,EAAAE,QAGAC,iBA3OA,SA2OAC,GAAA,IAAAC,EAAA/K,KAIAiB,QAAAC,IAAA4J,EAAAE,KACAhL,KAAA6C,SAAA,2BACAoI,kBAAA,KACAC,iBAAA,KACAtM,KAAA,YACA4B,KAAA,WACAuK,EAAAzK,IAAA6K,gBACA9C,OAAAyC,EAAAE,IAAA3C,SAEA7H,KAAA,SAAAC,GACA,KAAAA,EAAAvC,KAAAgJ,OACA6D,EAAAtI,UACAvD,QAAA,WAAAN,KAAA,YAGA,GAAA6B,EAAAvC,KAAAgJ,QACA6D,EAAAtI,UACAvD,QAAA,cAAAN,KAAA,cAGAmC,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,cAOAoK,YA3QA,SA2QArD,GAEA,OADAhF,QAAAC,IAAA+E,GACAA,GACA,OACAjG,KAAAoL,WAAA,iBACA,MACA,OACApL,KAAAoL,WAAA,0CACA,MACA,OACApL,KAAAoL,WAAA,qDACA,MACA,OAGA,OACApL,KAAAoL,WAAA,qEACA,MACA,OAEApL,KAAAoL,WAAA,6DACA,MACA,OAEApL,KAAAoL,WAAA,gEACA,MACA,OAIA,OAEApL,KAAAoL,WAAA,sFClaAC,GADiB/G,OAFjB,WAA0B,IAAAC,EAAAvE,KAAawE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,YAAA,OAAAV,OAA0BE,MAAAG,EAAA7F,aAAA2J,OAAA,cAAAlD,QAAAZ,EAAA9F,cAAA2G,wBAAA,EAAAC,MAAA,SAA2HrB,IAAKsB,iBAAA,SAAAC,GAAkChB,EAAA9F,cAAA8G,MAA2Bb,EAAA,WAAgBc,IAAA,aAAAZ,YAAA,gBAAAV,OAAoDuB,MAAAlB,EAAA7F,aAAAgH,MAAAnB,EAAAvF,YAAAsM,QAAA,EAAAC,YAAA,EAAA5F,cAAA,WAAwGjB,EAAA,gBAAqBR,OAAO5F,MAAA,KAAAsH,KAAA,MAAwBlB,EAAA,eAAoBE,YAAA,OAAAiB,aAAgCR,MAAA,SAAgBnB,OAAQsH,QAAAjH,EAAApG,eAAA4I,MAAAxC,EAAAkD,gBAAAgE,mBAAA,EAAAC,oBAAA,EAAAC,iBAAA,SAAkIlG,OAAQO,MAAAzB,EAAA,aAAA0B,SAAA,SAAAC,GAAkD3B,EAAAiD,aAAAtB,GAAqBE,WAAA,mBAA4B,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCR,OAAO5F,MAAA,MAAAsH,KAAA,MAAyBlB,EAAA,aAAkBmB,aAAaR,MAAA,SAAgBnB,OAAQ6B,YAAA,OAAoBN,OAAQO,MAAAzB,EAAA7F,aAAA,SAAAuH,SAAA,SAAAC,GAA2D3B,EAAA4B,KAAA5B,EAAA7F,aAAA,WAAAwH,IAA4CE,WAAA,0BAAqC7B,EAAA8B,GAAA9B,EAAA,qBAAAxC,EAAAuE,GAA6C,OAAA5B,EAAA,aAAuB4B,MAAApC,OAAe5F,MAAAyD,EAAA6J,SAAA5F,MAAAjE,EAAA8J,cAA6C,GAAAtH,EAAAO,GAAA,KAAAJ,EAAA,gBAAsCR,OAAO5F,MAAA,KAAAsH,KAAA,UAA4BlB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,KAAAuH,SAAA,SAAAC,GAAuD3B,EAAA4B,KAAA5B,EAAA7F,aAAA,OAAAwH,IAAwCE,WAAA,wBAAiC,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCR,OAAO5F,MAAA,KAAAsH,KAAA,YAA8BlB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,OAAAuH,SAAA,SAAAC,GAAyD3B,EAAA4B,KAAA5B,EAAA7F,aAAA,SAAAwH,IAA0CE,WAAA,0BAAmC,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCR,OAAO5F,MAAA,OAAAsH,KAAA,cAAkClB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,SAAAuH,SAAA,SAAAC,GAA2D3B,EAAA4B,KAAA5B,EAAA7F,aAAA,WAAAwH,IAA4CE,WAAA,4BAAqC,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,OAAAA,EAAA,gBAA+CR,OAAO5F,MAAA,OAAAsH,KAAA,cAAkClB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,SAAAuH,SAAA,SAAAC,GAA2D3B,EAAA4B,KAAA5B,EAAA7F,aAAA,WAAAwH,IAA4CE,WAAA,4BAAqC,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCR,OAAO5F,MAAA,KAAAsH,KAAA,uBAAyClB,EAAA,YAAiBR,OAAOtF,KAAA,YAAkB6G,OAAQO,MAAAzB,EAAA7F,aAAA,kBAAAuH,SAAA,SAAAC,GAAoE3B,EAAA4B,KAAA5B,EAAA7F,aAAA,oBAAAwH,IAAqDE,WAAA,qCAA8C,WAAA7B,EAAAO,GAAA,KAAAJ,EAAA,OAAoCE,YAAA,gBAAAV,OAAmCsC,KAAA,UAAgBA,KAAA,WAAe9B,EAAA,aAAkBV,IAAIC,MAAA,SAAAsB,GAAyBhB,EAAA9F,eAAA,MAA4B8F,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA8CR,OAAOtF,KAAA,WAAiBoF,IAAKC,MAAA,SAAAsB,GAAyBhB,EAAAvB,aAAA,kBAAiCuB,EAAAO,GAAA,kBAE9wF2B,oBCEjB,IC2IAqF,GACA/E,OAAA,gBACAgF,YACAC,eD9IArF,EAAA,OAcAsF,CACAnF,EACAuE,GATA,EAXA,SAAAxE,GACAF,EAAA,QACAA,EAAA,SAaA,kBAEA,MAUA,SCyHAzI,KALA,WAMA,OACAgO,SAAA,EACA/K,QACA6F,QACAC,QACAxF,SAAA,GACAyF,OAAA,GACAC,SAAA,GACAC,UAAA,EACAC,SAAA,IAEA8E,gBAAA,GACAC,aACAC,EAAA,OACAC,EAAA,SACAC,EAAA,UAEAjF,gBACAjJ,GAAA,EAAAC,MAAA,OACAD,GAAA,EAAAC,MAAA,OACAD,GAAA,EAAAC,MAAA,OAEAiJ,eAEAC,gBACA/I,eAAA,EACAC,cACAC,SAAA,GACAC,KAAA,IAEAT,kBACAsJ,iBACAnJ,MAAA,QACA0H,MAAA,MAGA0B,oBACAC,qBACA6E,mBACAxN,aACAyC,WACAxC,UAAA,EAAAC,QAAA,QAAAC,QAAA,WAEAgI,WACAlI,UAAA,EAAAC,QAAA,SAAAC,QAAA,WAEAuJ,OACAzJ,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAC,IAAA,EAAAC,IAAA,GAAAH,QAAA,iBAAAC,QAAA,SAEA+H,SACAjI,UAAA,EAAAC,QAAA,UAAAC,QAAA,WAEA0J,SACA5J,UAAA,EAAAC,QAAA,SAAAC,QAAA,SAEAsN,WACAxN,UAAA,EAAAC,QAAA,QAAAC,QAAA,SACAC,IAAA,EAAAC,IAAA,GAAAH,QAAA,iBAAAC,QAAA,YAQAI,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EACAE,SAAA,SAAAC,GAAA,OAAAA,EAAAC,KAAAF,UACA+M,SAAA,SAAA9M,GAAA,OAAAA,EAAAC,KAAA6M,aAEAC,cALA,WAMA,IAAAD,EAAA1M,KAAA0M,SAEA3K,GACA1D,GAAAqO,EAAAxK,OACA5D,MAAAoO,EAAA/N,UAAA,KACAkD,MAAA6K,EAAA7L,UACAjC,KAAA8N,EAAA9N,MAOA,OAJAoB,KAAA7B,gBAAA6B,KAAA7B,eAAAwC,SACAoB,EAAAL,SAAA1B,KAAA7B,gBAEA8C,QAAAC,IAAAa,IACAA,MAGAjC,OACA8M,aADA,SACA7M,EAAA6H,GAEA7H,KAAAqB,SACApB,KAAAiH,QACAxF,SAAA1B,EAAA1B,IAEA2B,KAAA6H,WAEA7H,KAAAiH,QACAG,UAAA,EACAC,SAAA,IAEArH,KAAAmB,QACAnB,KAAAgH,UAGAQ,aAjBA,SAiBAzH,GACAA,KAAAY,SACAX,KAAAtB,aAAA+C,SAAA1B,IAAAY,OAAA,GAEAM,QAAAC,IAAAlB,KAAAtB,aAAA+C,aAKAvB,QAxHA,WAwHA,IAAAG,EAAAL,KACAA,KAAAM,IAAAwH,UAAAtH,KAAA,SAAAC,GAEAJ,EAAAkH,YAAA9G,EAAAC,SAGAV,KAAAM,IAAAC,SAAA2B,OAAAlC,KAAAL,SAAA8B,WAAAjB,KAAA,SAAAC,GAEAJ,EAAAlC,eAAAsC,EAAAC,UAGAN,SACAyH,OADA,WACA,IAAAjG,EAAA5B,KACAA,KAAAM,IAAAyH,QAAA/H,KAAAiH,QAAAzG,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,GACAmB,EAAAT,KAAAV,EAAAC,OACAkB,EAAAoF,KAAAvG,EAAAuG,QAGAiB,YARA,SAQA4E,GAAA,IAAAjK,EAAA5C,KACA6M,IACA7M,KAAAtB,aAAAyI,SAAA,IAEAnH,KAAAtB,aAAA+C,WAEAzB,KAAA8M,aAAA9M,KAAA2M,eACA1L,QAAAC,IAAAlB,KAAAwM,iBACAxM,KAAAM,IAAA2H,YAAAjI,KAAAwM,iBAAAhM,KAAA,SAAAC,GAEAmC,EAAA+E,kBAAAlH,EAAAsM,UAAAtM,EAAAsM,SAAApM,OAAAF,EAAAsM,gBAKAD,aAvBA,SAuBA3L,GAAA,IAAA+B,EAAAlD,KACAqB,EAAArB,KACAmB,KAAAR,QACAQ,EAAAG,QAAA,SAAAC,GACAN,QAAAC,IAAAK,EAAAlD,GAAA6E,EAAAxE,aAAA+C,UACAF,EAAAlD,IAAA6E,EAAAxE,aAAA+C,SAQAF,EAAAG,UAAAH,EAAAG,SAAAf,QACAU,EAAAyL,aAAAvL,EAAAG,UARAL,EAAAmL,iBACA5N,KAAA2C,EAAA3C,KACAiD,MAAAN,EAAAM,UAWAmL,aA1CA,SA0CA5F,GACApH,KAAAkC,OACAlC,KAAAyC,UACA7D,KAAA,QACAM,QAAA,YAGAc,KAAAiH,OAAAG,YACApH,KAAA6H,WAYAlF,aA9DA,SA8DAZ,GAAA,IAAAwB,EAAAvD,KACAA,KAAA6C,SAAA,UAAAd,EAAA2G,KAAA,cACAuC,kBAAA,KACAC,iBAAA,KACAtM,KAAA,YACA4B,KAAA,WACAS,QAAAC,KAAAmH,OAAAtG,EAAAsG,SACA9E,EAAAjD,IAAA2M,SAAA5E,OAAAtG,EAAAsG,SAAA7H,KAAA,SAAAC,GACA8C,EAAAd,UACA7D,KAAA,UACAM,QAAA,UAEAqE,EAAAsE,aAEA9G,MAAA,eAIAyB,aAhFA,SAgFAT,GACA/B,KAAAvB,eAAA,EAIAwC,QAAAC,IAAAa,GACAA,GAGA/B,KAAAwH,cAAAzF,EAAAN,UACAzB,KAAAtB,cACA+C,SAAAM,EAAAN,SACA0F,SAAApF,EAAAoF,SACAkB,OAAAtG,EAAAsG,OACAK,KAAA3G,EAAA2G,KACAG,OAAA9G,EAAA8G,OACAqE,SAAAnL,EAAAmL,SACAT,SAAA1K,EAAA0K,SAEAvF,OAAAnF,EAAAmF,OACAkB,SAAArG,EAAAqG,UAEAnH,QAAAC,IAAAlB,KAAAtB,aAAAqD,GACA/B,KAAAtB,aAAAyJ,kBAAApG,EAAAqG,SACApI,KAAAiI,eAEAjI,KAAAtB,cACAwI,OAAA,IAKAlE,aAhHA,SAgHAC,GAAA,IAAAW,EAAA5D,KACAA,KAAAmD,MAAAF,GAAAG,SAAA,SAAAC,GACA,IAAAA,EAMA,OADApC,QAAAC,IAAA,mBACA,EALA0C,EAAAnF,eAAA,EACAmF,EAAAlF,aAAA+C,SAAAmC,EAAA4D,aAAA5D,EAAA4D,aAAA7G,OAAA,GACAiD,EAAAN,kBAOAA,aA5HA,WA4HA,IAAAoG,EAAA1J,KACAwD,EAAAxD,KAAAtB,aAAA2J,OAAA,oBACApB,EAAAkG,OAAAnN,KAAAtB,cAEAuI,EAAAkB,kBAAAlB,EAAAkB,kBAAAnI,KAAAoN,MAAAnG,EAAAkB,mBAAA,GAEAlB,EAAAkB,kBADA,WAAA3E,EACAyD,EAAAkB,kBAAAkF,IAAApG,EAAAkB,mBAAA,GAEAlB,EAAAkB,mBAAAlB,EAAAmB,SAAAnB,EAAAkB,kBAAAkF,IAAApG,EAAAkB,mBAEAnI,KAAAkM,UAGAlM,KAAAkM,SAAA,EAEAlM,KAAAM,IAAAkD,GAAAyD,GAAAzG,KAAA,SAAAC,GACAiJ,EAAAwC,SAAA,EACAxC,EAAAjH,UACA7D,KAAA,UACAM,QAAA,UAEAwK,EAAA7B,WACA9G,MAAA,SAAAC,GACA0I,EAAAwC,SAAA,MAIA5D,MAvJA,WAuJA,IAAAyC,EAAA/K,KACAuI,KACA,GAAAvI,KAAAwI,WAAAC,SAAAF,EAAAG,KAAA1I,KAAAwI,WAAAG,SACA,GAAA3I,KAAAwI,WAAAC,SAAAF,EAAAK,GAAA5I,KAAAwI,WAAAG,SACA,GAAA3I,KAAAwI,WAAAC,SAAAF,EAAAM,OAAA7I,KAAAwI,WAAAG,SACA,MAAA3I,KAAA8I,eAAA,GAAAH,UAAAJ,EAAArB,OAAA,GACA,MAAAlH,KAAA8I,eAAA,GAAAH,UAAAJ,EAAArB,OAAA,GACAqB,EAAApB,SAAAnH,KAAA8I,eAAA,GAAAH,QACA3I,KAAAM,IAAAyI,cAAAR,GACA/H,KAAA,SAAAC,GAGA,IAFA,IAAAU,EAAAV,EAAAC,OAEAsI,EAAA,EAAAA,EAAA7H,EAAAR,OAAAqI,IACA,GAAA7H,EAAA6H,GAAA9B,OACA/F,EAAA6H,GAAA9B,OAAA,KAGA/F,EAAA6H,GAAA9B,OAAA,KAGA6D,EAAA9B,cAAA9H,IACAJ,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,YAIAgK,QAjLA,SAiLAjD,EAAAK,GAEA,gBAAAA,EACAtG,KAAAmJ,YAAAlD,EAAAK,EAAA,cAEAtG,KAAAoJ,YAAA3H,SAAAwE,OAGA,iBAAAK,EAEA,GAAAtG,KAAAqJ,SAAA,GAAArJ,KAAAqJ,SAAA,GAAArJ,KAAAqJ,SACArJ,KAAAmJ,YAAAlD,EAAAK,EAAA,cAEAtG,KAAAoJ,YAAA3H,SAAAwE,GAGA,GAAAjG,KAAAqJ,SACArJ,KAAAmJ,YAAAlD,EAAAK,EAAA,cAEAtG,KAAAoJ,YAAA3H,SAAAwE,IAIAjG,KAAAmJ,YAAAlD,EAAAK,EAAA,YAEAtG,KAAAoJ,YAAA3H,SAAAwE,QAIA,eAAAK,EACAtG,KAAAmJ,YAAAlD,EAAAK,EAAA,iBAEAtG,KAAAoJ,YAAA3H,SAAAwE,OAGA,oBAAAK,EAEAtG,KAAAoJ,YAAA3H,SAAAwE,OAIA,iBAAAK,EACAtG,KAAAmJ,YAAAlD,EAAAK,EAAA,wBAGA,oBAAAA,EAIA,OAHAtG,KAAAqJ,QAAApD,EACAjG,KAAAoJ,YAAAjC,SAAAlB,OACAjG,KAAAsJ,YAAArD,IAKAkD,YAtOA,SAsOAlD,EAAAK,EAAAiC,GAAA,IAAA+E,EAAAtN,KACAA,KAAAM,IAAAiJ,cACArH,OAAA+D,IAEAzF,KAAA,SAAAC,GACA,IAAAU,EAAAV,EAAAC,OAcA4M,EAAA9D,eAAAjB,GAAApH,SACAJ,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,YAIAuK,UA/PA,SA+PAxG,GAAA,IAAAsK,EAAAvN,KAEA,QAAAsG,KAAAtG,KAAAwJ,eACAxJ,KAAAoJ,YAAA9C,GAAAtG,KAAAwJ,eAAAlD,GAAAqC,QAGA3I,KAAAmD,MAAAF,GAAAG,SAAA,SAAAC,GACA,GAAAA,EAAA,CAMAkK,EAAAjN,IAAAqJ,mBAAA4D,EAAAnE,aACA5I,KAAA,SAAAC,GACAQ,QAAAC,IAAAT,KACAM,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,WAGA0K,eAAAC,QAAA,iBAAAC,IAAAyD,EAAA/D,iBACA,IAAAA,EAAAO,KAAAC,MAAAJ,eAAAK,QAAA,mBACAsD,EAAArD,UAAAlI,KAAAwH,GACAI,eAAAO,MAAA,kBACAoD,EAAAnD,mBAAA,MAMAC,SA7RA,WA+RArK,KAAAsK,SAAAP,KAAAC,MAAAJ,eAAAK,QAAA,cACAjK,KAAAuK,uBAAA,EACAX,eAAAO,MAAA,cAGAK,UApSA,WAsSAvJ,QAAAC,IAAAlB,KAAAkK,WACAlK,KAAAuK,uBAAA,EACAX,eAAAO,MAAA,cAGAM,KA3SA,SA2SArI,EAAAsI,GACAzJ,QAAAC,IAAAkB,GASAwH,eAAAO,MAAA,aACAP,eAAAC,QAAA,YAAAC,IAAA1H,IACApC,KAAAuK,uBAAA,EACAvK,KAAA2K,OAAAD,EAAAE,QAGAC,iBA3TA,SA2TAC,GAAA,IAAA0C,EAAAxN,KAIAiB,QAAAC,IAAA4J,EAAAE,KACAhL,KAAA6C,SAAA,2BACAoI,kBAAA,KACAC,iBAAA,KACAtM,KAAA,YACA4B,KAAA,WACAgN,EAAAlN,IAAA6K,gBACA9C,OAAAyC,EAAAE,IAAA3C,SAEA7H,KAAA,SAAAC,GACA,KAAAA,EAAAvC,KAAAgJ,OACAsG,EAAA/K,UACAvD,QAAA,WAAAN,KAAA,YAGA,GAAA6B,EAAAvC,KAAAgJ,QACAsG,EAAA/K,UACAvD,QAAA,cAAAN,KAAA,cAGAmC,MAAA,SAAAC,GACAC,QAAAC,IAAA,SAAAF,EAAA9B,cAOAoK,YA3VA,SA2VArD,GAEA,OADAhF,QAAAC,IAAA+E,GACAA,GACA,OACAjG,KAAAoL,WAAA,iBACA,MACA,OACApL,KAAAoL,WAAA,0CACA,MACA,OACApL,KAAAoL,WAAA,qDACA,MACA,OAGA,OACApL,KAAAoL,WAAA,qEACA,MACA,OAEApL,KAAAoL,WAAA,6DACA,MACA,OAEApL,KAAAoL,WAAA,gEACA,MACA,OAIA,OAEApL,KAAAoL,WAAA,sFC1oBAqC,GADiBnJ,OAFjB,WAA0B,IAAAC,EAAAvE,KAAawE,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,SAAmBF,EAAA,eAAAA,EAAA,MAAAH,EAAAO,GAAA,UAAAP,EAAAO,GAAA,KAAAP,EAAAmJ,MAAAC,KAAA,UAAAjJ,EAAA,aAAqGR,OAAOsC,KAAA,QAAA5H,KAAA,WAAgCoF,IAAKC,MAAA,SAAAsB,GAAyBhB,EAAA/B,iBAAoBgE,KAAA,UAAcjC,EAAAO,GAAA,UAAAP,EAAAW,MAAA,GAAAX,EAAAO,GAAA,KAAAJ,EAAA,WAA0DE,YAAA,mBAAAV,OAAsCoH,QAAA,EAAA7F,MAAAlB,EAAA0C,OAAAtB,cAAA,OAAAiI,KAAA,WAAsElJ,EAAA,SAAcE,YAAA,+BAAAiB,aAAwDgI,cAAA,YAAwBtJ,EAAAO,GAAA,WAAAP,EAAAO,GAAA,KAAAJ,EAAA,YAA+CE,YAAA,oBAAAkJ,MAAA,cAAA5J,OAA6D6J,WAAA,EAAAhI,YAAA,QAAA6H,KAAA,SAAsDnI,OAAQO,MAAAzB,EAAA0C,OAAA1C,EAAA6H,YAAA7H,EAAA4H,kBAAAlG,SAAA,SAAAC,GAAkF3B,EAAA4B,KAAA5B,EAAA0C,OAAA1C,EAAA6H,YAAA7H,EAAA4H,iBAAAjG,IAAgEE,WAAA,0CAAoD1B,EAAA,aAAkBoJ,MAAA,cAAA5J,OAA6BsC,KAAA,UAAAT,YAAA,OAAqCS,KAAA,UAAAf,OAAuBO,MAAAzB,EAAA,gBAAA0B,SAAA,SAAAC,GAAqD3B,EAAA4H,gBAAAjG,GAAwBE,WAAA,oBAA+B7B,EAAA8B,IAAA,0BAAAtE,EAAA2I,GAAiD,OAAAhG,EAAA,aAAuB4B,IAAAoE,EAAAxG,OAAiB5F,MAAAyD,EAAAiE,MAAA0E,SAA8B,GAAAnG,EAAAO,GAAA,KAAAJ,EAAA,gBAAsCR,OAAO5F,MAAA,UAAgBoG,EAAA,aAAkBmB,aAAaR,MAAA,SAAgBnB,OAAQ6J,WAAA,EAAAhI,YAAA,OAAqCN,OAAQO,MAAAzB,EAAA0C,OAAA,OAAAhB,SAAA,SAAAC,GAAmD3B,EAAA4B,KAAA5B,EAAA0C,OAAA,SAAAf,IAAoCE,WAAA,kBAA6B7B,EAAA8B,GAAA9B,EAAA,uBAAAxC,EAAAuE,GAA+C,OAAA5B,EAAA,aAAuB4B,MAAApC,OAAe5F,MAAAyD,EAAAzD,MAAA0H,MAAAjE,EAAA1D,UAAsC,GAAAkG,EAAAO,GAAA,KAAAJ,EAAA,gBAAsCR,OAAO5F,MAAA,SAAeoG,EAAA,aAAkBmB,aAAaR,MAAA,SAAgBnB,OAAQ6J,WAAA,EAAAhI,YAAA,OAAqCN,OAAQO,MAAAzB,EAAA0C,OAAA,SAAAhB,SAAA,SAAAC,GAAqD3B,EAAA4B,KAAA5B,EAAA0C,OAAA,WAAAf,IAAsCE,WAAA,oBAA+B7B,EAAA8B,GAAA9B,EAAA,qBAAAxC,EAAAuE,GAA6C,OAAA5B,EAAA,aAAuB4B,MAAApC,OAAe5F,MAAAyD,EAAA6J,SAAA5F,MAAAjE,EAAA8J,cAA6C,GAAAtH,EAAAO,GAAA,KAAAJ,EAAA,gBAAAA,EAAA,aAAsDR,OAAOtF,KAAA,WAAiBoF,IAAKC,MAAA,SAAAsB,GAAyBhB,EAAAyI,aAAA,OAAsBzI,EAAAO,GAAA,gBAAAP,EAAAO,GAAA,KAAAJ,EAAA,mBAA2DR,OAAO8J,YAAAzJ,EAAAyC,MAAqBhD,IAAKiK,OAAA1J,EAAAyI,gBAA2BtI,EAAA,YAAiBE,YAAA,QAAAV,OAA2BsC,KAAA,QAAAtI,KAAAqG,EAAApD,MAA+BqF,KAAA,UAAc9B,EAAA,mBAAwBR,OAAO0B,KAAA,SAAAtH,MAAA,KAAA+G,MAAA,QAA2Cd,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO0B,KAAA,OAAAtH,MAAA,KAAA+G,MAAA,SAA0Cd,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO0B,KAAA,WAAAtH,MAAA,MAAA+G,MAAA,SAA+Cd,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO0B,KAAA,WAAAtH,MAAA,QAAgCiG,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO0B,KAAA,WAAAtH,MAAA,UAAkCiG,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO0B,KAAA,KAAAtH,MAAA,SAA2BiG,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO0B,KAAA,YAAAtH,MAAA,SAAkCiG,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO0B,KAAA,QAAAtH,MAAA,QAA6BiG,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAO5F,MAAA,MAAa4P,YAAA3J,EAAA4J,KAAsB7H,IAAA,UAAA8H,GAAA,SAAAtD,GAAiC,OAAAvG,EAAAO,GAAA,eAAAP,EAAA8J,GAAA,GAAAvD,EAAAE,IAAA9D,OAAA,QAAA4D,EAAAE,IAAA9D,OAAA,gCAA4H3C,EAAAO,GAAA,KAAAJ,EAAA,mBAAoCR,OAAOoK,MAAA,QAAAhQ,MAAA,KAAA+G,MAAA,OAA2C6I,YAAA3J,EAAA4J,KAAsB7H,IAAA,UAAA8H,GAAA,SAAAtD,GAAiC,OAAApG,EAAA,aAAwBR,OAAOtF,KAAA,OAAAgP,KAAA,SAA6B5J,IAAKC,MAAA,SAAAsB,GAAyBhB,EAAA/B,aAAAsI,EAAAE,SAA8BzG,EAAAO,GAAA,QAAAP,EAAAO,GAAA,QAAAgG,EAAAE,IAAA9D,OAAAxC,EAAA,aAAqER,OAAOtF,KAAA,OAAAgP,KAAA,SAA6B5J,IAAKC,MAAA,SAAAsB,GAAyBhB,EAAA5B,aAAAmI,EAAAE,SAA8BzG,EAAAO,GAAA,QAAAJ,EAAA,aAAiCR,OAAOtF,KAAA,OAAAgP,KAAA,QAAA9H,SAAA,GAAA1B,MAAA,mBAAoEG,EAAAO,GAAA,gBAAsB,OAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAAsCE,YAAA,OAAAV,OAA0BE,MAAAG,EAAA7F,aAAA2J,OAAA,cAAAlD,QAAAZ,EAAA9F,cAAAiH,MAAAnB,EAAAvF,YAAAoG,wBAAA,EAAAC,MAAA,SAAmJrB,IAAKsB,iBAAA,SAAAC,GAAkChB,EAAA9F,cAAA8G,MAA2Bb,EAAA,WAAgBc,IAAA,aAAAZ,YAAA,gBAAAV,OAAoDuB,MAAAlB,EAAA7F,aAAAgH,MAAAnB,EAAAvF,YAAAsM,QAAA,EAAAC,YAAA,EAAA5F,cAAA,WAAwGjB,EAAA,OAAAA,EAAA,gBAA+BR,OAAO5F,MAAA,KAAAsH,KAAA,cAAgClB,EAAA,eAAoBE,YAAA,OAAAiB,aAAgCR,MAAA,SAAgBnB,OAAQsH,QAAAjH,EAAA7F,aAAA2J,QAAA9D,EAAAmI,SAAA7L,UAAA,EAAA0D,EAAAoI,cAAApI,EAAApG,eAAA4I,MAAAxC,EAAAkD,gBAAAsG,WAAA,EAAAtC,mBAAA,EAAAC,oBAAA,EAAAC,iBAAA,SAA+N3H,IAAKuK,KAAA,SAAAhJ,GAAwBhB,EAAA0D,aAAA,KAAuBxC,OAAQO,MAAAzB,EAAA,aAAA0B,SAAA,SAAAC,GAAkD3B,EAAAiD,aAAAtB,GAAqBE,WAAA,mBAA4B,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCR,OAAO5F,MAAA,MAAAsH,KAAA,cAAiClB,EAAA,aAAkBmB,aAAaR,MAAA,SAAgBnB,OAAQ6B,YAAA,OAAoBN,OAAQO,MAAAzB,EAAA7F,aAAA,SAAAuH,SAAA,SAAAC,GAA2D3B,EAAA4B,KAAA5B,EAAA7F,aAAA,WAAAwH,IAA4CE,WAAA,0BAAqC7B,EAAA8B,GAAA9B,EAAA,2BAAAxC,EAAAuE,GAAmD,OAAA5B,EAAA,aAAuB4B,MAAApC,OAAe5F,MAAAyD,EAAA6J,SAAA5F,MAAAjE,EAAA8J,cAA6C,OAAAtH,EAAAO,GAAA,KAAAJ,EAAA,OAAAA,EAAA,gBAAoDR,OAAO5F,MAAA,KAAAsH,KAAA,UAA4BlB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,KAAAuH,SAAA,SAAAC,GAAuD3B,EAAA4B,KAAA5B,EAAA7F,aAAA,OAAAwH,IAAwCE,WAAA,wBAAiC,GAAA7B,EAAAO,GAAA,KAAAP,EAAA7F,aAAA,OAAAgG,EAAA,gBAA+DR,OAAO5F,MAAA,OAAAsH,KAAA,YAAgClB,EAAA,aAAkBmB,aAAaR,MAAA,SAAgBnB,OAAQ6B,YAAA,OAAoBN,OAAQO,MAAAzB,EAAA7F,aAAA,OAAAuH,SAAA,SAAAC,GAAyD3B,EAAA4B,KAAA5B,EAAA7F,aAAA,SAAAwH,IAA0CE,WAAA,wBAAmC7B,EAAA8B,GAAA9B,EAAA,uBAAAxC,EAAAuE,GAA+C,OAAA5B,EAAA,aAAuB4B,MAAApC,OAAe5F,MAAAyD,EAAAzD,MAAA0H,MAAAjE,EAAA1D,UAAsC,GAAAkG,EAAAW,MAAA,GAAAX,EAAAO,GAAA,KAAAJ,EAAA,gBAAmDR,OAAO5F,MAAA,KAAAsH,KAAA,YAA8BlB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,OAAAuH,SAAA,SAAAC,GAAyD3B,EAAA4B,KAAA5B,EAAA7F,aAAA,SAAAwH,IAA0CE,WAAA,0BAAmC,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCR,OAAO5F,MAAA,OAAAsH,KAAA,cAAkClB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,SAAAuH,SAAA,SAAAC,GAA2D3B,EAAA4B,KAAA5B,EAAA7F,aAAA,WAAAwH,IAA4CE,WAAA,4BAAqC,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,OAAAA,EAAA,gBAA+CR,OAAO5F,MAAA,OAAAsH,KAAA,cAAkClB,EAAA,YAAiBe,OAAOO,MAAAzB,EAAA7F,aAAA,SAAAuH,SAAA,SAAAC,GAA2D3B,EAAA4B,KAAA5B,EAAA7F,aAAA,WAAAwH,IAA4CE,WAAA,4BAAqC,GAAA7B,EAAAO,GAAA,KAAAJ,EAAA,gBAAqCR,OAAO5F,MAAA,KAAAsH,KAAA,uBAAyClB,EAAA,YAAiBR,OAAOtF,KAAA,YAAkB6G,OAAQO,MAAAzB,EAAA7F,aAAA,kBAAAuH,SAAA,SAAAC,GAAoE3B,EAAA4B,KAAA5B,EAAA7F,aAAA,oBAAAwH,IAAqDE,WAAA,qCAA8C,WAAA7B,EAAAO,GAAA,KAAAJ,EAAA,OAAoCE,YAAA,gBAAAV,OAAmCsC,KAAA,UAAgBA,KAAA,WAAe9B,EAAA,aAAkBV,IAAIC,MAAA,SAAAsB,GAAyBhB,EAAA9F,eAAA,MAA4B8F,EAAAO,GAAA,SAAAP,EAAAO,GAAA,KAAAJ,EAAA,aAA8CR,OAAOtF,KAAA,WAAiBoF,IAAKC,MAAA,SAAAsB,GAAyBhB,EAAAvB,aAAA,kBAAiCuB,EAAAO,GAAA,sBAE7mO2B,oBCEjB,ICOA+H,GACAzC,YACA0C,WAAA/H,EACAgI,SDVA/H,EAAA,OAcAgI,CACA7C,EACA2B,GATA,EAXA,SAAA5G,GACAF,EAAA,QACAA,EAAA,SAaA,kBAEA,MAUA,SCXAzI,KALA,WAMA,OACA0O,aAAA,OAGA1M,QAVA,aAaAE,SACA+B,aADA,SACAjE,GACA+C,QAAAC,IAAAhD,GACA8B,KAAA4M,aAAA1O,KCxBA0Q,GADiBtK,OAFjB,WAA0B,IAAaE,EAAbxE,KAAayE,eAA0BC,EAAvC1E,KAAuC2E,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,cAAmBV,IAAIiK,OAAnIjO,KAAmImC,gBAAnInC,KAA8J8E,GAAA,KAAAJ,EAAA,YAA6BR,OAAO2K,gBAAlM7O,KAAkM4M,iBAAkC,IAE7OnG,oBCCjB,IAcAqI,EAdAnI,EAAA,OAcAoI,CACAP,EACAI,GATA,EAVA,SAAA/H,GACAF,EAAA,SAaA,kBAEA,MAUAqI,EAAA,QAAAF,EAAA","file":"static/js/5.7f30bf28c1a4bb389ec9.js","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"g-title\">\r\n      <h2>组织架构</h2>\r\n    </div>\r\n\r\n    <el-tree class=\"tree-wrap\" v-if=\"departmentTree.length\" accordion\r\n      :data=\"departmentTree\" :render-content=\"renderContent\" :highlight-current=\"true\">\r\n    </el-tree>\r\n\r\n    <!-- 新增/编辑部门 -->\r\n    <el-dialog class=\"left remove\" :title=\"updateParams.deptId ? '编辑部门' : '新增部门'\"\r\n     :visible.sync=\"updateVisible\" :close-on-click-modal=\"false\" width=\"480px\">\r\n      <el-form :model=\"updateParams\" :rules=\"updateRules\" ref=\"updateForm\" label-width=\"130px\" class=\"demo-ruleForm\">\r\n        <!-- 事业部添加/编辑子部门的时候，多传一个子部门类型 -->\r\n        <el-form-item label=\"部门类型\" prop=\"type\" v-if=\"(updateLevel == 3 && isAdd) || (updateLevel == 4 && !isAdd)\">\r\n          <el-select v-model=\"updateParams.type\" :disabled=\"!!updateParams.deptId\" placeholder=\"请选择部门类型\" style=\"width: 280px\">\r\n            <el-option v-for=\"item in departmentOptions\" :label=\"item.label\" :value=\"item.id\" :key=\"item.id\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"部门名称\" prop=\"deptName\" placeholder=\"请输入部门名称\">\r\n           <el-input v-model=\"updateParams.deptName\" style=\"width: 280px\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!-- 客服部添加客服组/编辑客服组的时候，多传绑定咨询组，支持多选 -->\r\n        <el-form-item label=\"选择关联咨询组\" prop=\"relevIds\" v-if=\"updateType == 1 && ((updateLevel == 4 && isAdd) || updateLevel == 5)\">\r\n          <el-select multiple v-model=\"updateRelevIds\" placeholder=\"请选择咨询组\" style=\"width: 280px\">\r\n            <el-option v-for=\"item in saleOptions\" :label=\"item.deptName\" :value=\"item.deptId\" :key=\"item.deptId\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"updateVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"beforeSubmit('updateForm')\">保存</el-button>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!-- 编辑弹框 -->\r\n    <!-- <el-dialog class=\"left\" title=\"编辑坐席\" :visible=\"dialogFormVisibleEdit\" width=\"30%\">\r\n      <el-form class=\"demo-ruleForm\" >\r\n             <el-form-item  label=\"\">\r\n               <el-input v-model=\"newList.label\"></el-input>\r\n             </el-form-item>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"eidt\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editEnter\">确 定</el-button>\r\n      </div>\r\n    </el-dialog> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nexport default {\r\n  data() {\r\n    return {\r\n      /*value3: '',\r\n      position: \"\",\r\n      dialogFormVisibleEdit:false,\r\n      seatData:[],\r\n      newList:{label:\"\"},\r\n      newButton: false, // 是否显示新增按钮\r\n      isType:false, // 部门类型\r\n      newsMsg:\"\",*/\r\n\r\n      departmentTree: [],\r\n      departmentOptions: [\r\n        { id: 1, label: '客服部门' },\r\n        { id: 2, label: '电销部门' },\r\n        { id: 4, label: '网销部门' },\r\n        { id: 8, label: '推广部门' },\r\n      ],\r\n      saleOptions: [\r\n        { id: 81, label: '电销一组' },\r\n        { id: 82, label: '电销二组' },\r\n      ],\r\n      isAdd: false,\r\n      updateVisible: false,\r\n      updateParams:{\r\n        deptName: '',\r\n        type: '' // 部门类型\r\n      },\r\n      updateLevel: 0,\r\n      updateType: 0,\r\n      updateRelevIds: [],\r\n      updateRules: {\r\n        deptName: [\r\n          { required: true, message: '输入不能为空', trigger: 'blur' },\r\n          { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        type: [\r\n          { required: true, message: '请选择子部门', trigger: 'change' },\r\n        ],\r\n        relevIds: [\r\n          { required: true, message: '选择关联咨询组', trigger: 'change' },\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      userInfo: state => state.user.userInfo,\r\n    }),\r\n  },\r\n  watch: {\r\n    updateRelevIds(val) {\r\n      this.updateParams.relevIds = val.join(',')\r\n    }\r\n  },\r\n  created() {\r\n    this.getList()\r\n  },\r\n  methods: {\r\n    getList() {\r\n      // 获取列表\r\n      this.API.qryDept().then(res => {\r\n        // console.log(res.result)\r\n        if (res.result && res.result.length) {\r\n          this.departmentTree = res.result\r\n          // 在每一个节点加一个字段hasPerm，判断是否有权限查询该部门员工\r\n          this.handleDept(this.departmentTree, this.userInfo.deptLevel == 1)\r\n        }\r\n        this.$emit('change', {})\r\n      }).catch(err => {\r\n         console.log('error:' + err.message)\r\n      })\r\n    },\r\n    handleDept(list, hasPerm) {\r\n      let vm = this\r\n      if (list && list.length) {\r\n        list.forEach(listItem => {\r\n          const nodePerm = hasPerm ? hasPerm : vm.userInfo.deptIdFk == listItem.id\r\n          listItem.hasPerm = nodePerm\r\n\r\n          if (listItem.children && listItem.children.length) {\r\n            vm.handleDept(listItem.children, nodePerm)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    qryDeptSaleById(data, isAdd) {\r\n      if (((data.level == 4 && isAdd) || data.level == 5) && data.type == 1) {\r\n        this.updateRelevIds = []\r\n        if (data.level == 5) {\r\n          //this.updateRelevIds = data.relevIds && data.relevIds.length ? data.relevIds.split(',') : []\r\n          if (data.relevIds && data.relevIds.length) {\r\n            const arr = data.relevIds.split(',')\r\n            arr.forEach(item => {\r\n              this.updateRelevIds.push(parseInt(item))\r\n            })\r\n          }\r\n        }\r\n\r\n        this.API.qryDeptSaleById({ deptId: data.id }).then(res => {\r\n          console.log(res)\r\n          this.saleOptions = res.result\r\n        })\r\n\r\n      }\r\n    },\r\n    handleSelect(e, data) {\r\n      this.$emit('change', data)\r\n    },\r\n    handleStop(e) {\r\n      if (e.stopPropagation) {\r\n        e.stopPropagation()\r\n      } else {\r\n        e.cancelBubble = true\r\n      }\r\n    },\r\n    handleUpdate(e, data, isAdd) {\r\n      this.handleStop(e);\r\n      console.log(data)\r\n\r\n      this.qryDeptSaleById(data, isAdd)\r\n\r\n      if (isAdd) {\r\n        this.isAdd = true\r\n        // 最多添加五级\r\n        if (data.level >= 5) {\r\n          this.$message({\r\n            message: '最多添加五级',\r\n            type: 'warning'\r\n          });\r\n          return;\r\n        }\r\n\r\n        this.updateParams = {\r\n          parentDeptId: data.id,\r\n        }\r\n\r\n        if (data.level == 4) {\r\n          this.updateParams.type = data.type\r\n        }\r\n      } else {\r\n        this.isAdd = false\r\n        this.updateParams = {\r\n          deptId: data.id,\r\n          deptName: data.label,\r\n          type: data.type\r\n        }\r\n      }\r\n\r\n      // 如果是事业部需要多传一个参数：type\r\n      this.updateLevel = data.level\r\n      this.updateType = data.type\r\n      this.updateVisible = true\r\n    },\r\n    handleDelete(e, data) {\r\n      this.handleStop(e);\r\n\r\n      //const parent = node.parent;\r\n      //const children = parent.data.children || parent.data;\r\n      //const index = children.findIndex(d => d.id === data.id);\r\n      //children.splice(index, 1);\r\n      /*if (this.seatData.length) {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '请先删除子部门!'\r\n          })\r\n          return;\r\n      }*/\r\n      this.$confirm(`确定删除部门(${data.label})吗？`, '操作提示').then(action => {\r\n        if (action === 'confirm') {\r\n          this.API.delDept({ deptId: data.id }).then(res => {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            })\r\n            this.getList()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    // 保存\r\n    beforeSubmit(formName){\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.updateVisible = false\r\n          this.handleSubmit()\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    handleSubmit() {\r\n      const apiName = this.isAdd ? 'addDept' : 'mdfDept'\r\n      this.API[apiName](this.updateParams).then(res => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '保存成功！'\r\n        })\r\n        this.getList()\r\n      });\r\n    },\r\n    renderContent(h, { node, data, store }) {\r\n      if (data.hasPerm) {\r\n        if (data.level == 5 || data.type == 8) {\r\n          return (\r\n            <span class=\"custom-node\">\r\n              <span class=\"title\" on-click={ (e) => { this.handleSelect(e, data)} }>{node.label}</span>\r\n\r\n              <p class=\"icon\">\r\n                <img src=\"/static/img/system/edit.png\" on-click={ (e) => { this.handleUpdate(e, data) }} title=\"编辑\" />\r\n                <img src=\"/static/img/system/delete.png\" on-click={ (e) => {  this.handleDelete(e, data) }} title=\"删除\" />\r\n              </p>\r\n            </span>)\r\n        } else {\r\n          return (\r\n            <span class=\"custom-node\">\r\n              <span class=\"title\" on-click={ (e) => { this.handleSelect(e, data)} }>{node.label}</span>\r\n\r\n              <p class=\"icon\">\r\n                <img src=\"/static/img/system/add.png\" on-click={ (e) => { this.handleUpdate(e, data, 1) }} title=\"新增\" />\r\n                <img src=\"/static/img/system/edit.png\" on-click={ (e) => { this.handleUpdate(e, data) }} title=\"编辑\" />\r\n                <img src=\"/static/img/system/delete.png\" on-click={ (e) => {  this.handleDelete(e, data) }} title=\"删除\" />\r\n              </p>\r\n            </span>)\r\n        }\r\n      } else {\r\n        return (\r\n          <span class=\"custom-node\">\r\n            <span class=\"title\" on-click={ (e) => { this.handleSelect(e, data)} }>{node.label}</span>\r\n          </span>)\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .wrap {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 280px;\r\n    //height: 100%;\r\n    font-size: 15px;\r\n    background: #2f3941;\r\n    .g-title {\r\n      height: 60px;\r\n      line-height: 60px;\r\n      color: #fff;\r\n      background: #333d46;\r\n      h2 {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n  .tree-wrap{\r\n    background: #2f3941;\r\n    color: #a8b0b9;\r\n    .custom-node{\r\n      line-height: 32px;\r\n      .icon{\r\n        float: left;\r\n        img{\r\n          width: 13px;\r\n          margin-left:10px;\r\n          float: left;\r\n          display: none;\r\n          margin-top: 10px;\r\n        }\r\n      }\r\n      .title{\r\n        float: left;\r\n      }\r\n    }\r\n    .el-tree-node__content{\r\n      height: 32px;\r\n    }\r\n    .el-tree-node:focus>.el-tree-node__content, .el-tree-node__content:hover, .el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content {\r\n      background-color: #1e2630;\r\n    }\r\n    .el-tree-node__content>.el-tree-node__expand-icon{\r\n      float: left;\r\n    }\r\n    .el-tree-node:focus>.el-tree-node__content, .el-tree-node__content:hover .custom-node .icon img {\r\n      display: block;\r\n    }\r\n    .el-dialog .el-dialog__headerbtn{\r\n      display: none;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/system/children/department.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_vm._m(0),_vm._v(\" \"),(_vm.departmentTree.length)?_c('el-tree',{staticClass:\"tree-wrap\",attrs:{\"accordion\":\"\",\"data\":_vm.departmentTree,\"render-content\":_vm.renderContent,\"highlight-current\":true}}):_vm._e(),_vm._v(\" \"),_c('el-dialog',{staticClass:\"left remove\",attrs:{\"title\":_vm.updateParams.deptId ? '编辑部门' : '新增部门',\"visible\":_vm.updateVisible,\"close-on-click-modal\":false,\"width\":\"480px\"},on:{\"update:visible\":function($event){_vm.updateVisible=$event}}},[_c('el-form',{ref:\"updateForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.updateParams,\"rules\":_vm.updateRules,\"label-width\":\"130px\"}},[((_vm.updateLevel == 3 && _vm.isAdd) || (_vm.updateLevel == 4 && !_vm.isAdd))?_c('el-form-item',{attrs:{\"label\":\"部门类型\",\"prop\":\"type\"}},[_c('el-select',{staticStyle:{\"width\":\"280px\"},attrs:{\"disabled\":!!_vm.updateParams.deptId,\"placeholder\":\"请选择部门类型\"},model:{value:(_vm.updateParams.type),callback:function ($$v) {_vm.$set(_vm.updateParams, \"type\", $$v)},expression:\"updateParams.type\"}},_vm._l((_vm.departmentOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.label,\"value\":item.id}})}))],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"部门名称\",\"prop\":\"deptName\",\"placeholder\":\"请输入部门名称\"}},[_c('el-input',{staticStyle:{\"width\":\"280px\"},model:{value:(_vm.updateParams.deptName),callback:function ($$v) {_vm.$set(_vm.updateParams, \"deptName\", $$v)},expression:\"updateParams.deptName\"}})],1),_vm._v(\" \"),(_vm.updateType == 1 && ((_vm.updateLevel == 4 && _vm.isAdd) || _vm.updateLevel == 5))?_c('el-form-item',{attrs:{\"label\":\"选择关联咨询组\",\"prop\":\"relevIds\"}},[_c('el-select',{staticStyle:{\"width\":\"280px\"},attrs:{\"multiple\":\"\",\"placeholder\":\"请选择咨询组\"},model:{value:(_vm.updateRelevIds),callback:function ($$v) {_vm.updateRelevIds=$$v},expression:\"updateRelevIds\"}},_vm._l((_vm.saleOptions),function(item){return _c('el-option',{key:item.deptId,attrs:{\"label\":item.deptName,\"value\":item.deptId}})}))],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.updateVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.beforeSubmit('updateForm')}}},[_vm._v(\"保存\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g-title\"},[_c('h2',[_vm._v(\"组织架构\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-c64a00b6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/system/children/department.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c64a00b6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./department.vue\")\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c64a00b6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=1!./department.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./department.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./department.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c64a00b6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./department.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c64a00b6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/system/children/department.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog class=\"left\" :title=\"updateParams.userId ? '编辑坐席' : '新增坐席'\" :visible.sync=\"updateVisible\" :close-on-click-modal=\"false\" width=\"720px\">\r\n    <el-form class=\"demo-ruleForm\" :model=\"updateParams\" :rules=\"updateRules\" :inline=\"true\" ref=\"updateForm\" :resetField=\"true\" label-width=\"100px\">\r\n\r\n      <el-form-item label=\"部门\" prop=\"\">\r\n        <el-cascader class=\"mr20\" style=\"width: 180px\"\r\n          v-model=\"updateDeptId\"\r\n          :options=\"departmentTree\"\r\n          :props=\"departmentProps\"\r\n          :show-all-levels=\"false\"\r\n          :change-on-select=\"true\"\r\n          expand-trigger=\"hover\">\r\n        </el-cascader>\r\n      </el-form-item>\r\n\r\n      <el-form-item  label=\"用户组\" prop=\"\">\r\n        <el-select v-model=\"updateParams.roleIdFk\" placeholder=\"请选择\" style=\"width: 140px;\">\r\n          <el-option :label=\"item.roleName\" :value=\"item.roleId\" v-for=\"(item, key) in roleOptions\" :key=\"key\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"姓名\" prop=\"name\">\r\n        <el-input v-model=\"updateParams.name\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"手机\" prop=\"mobile\">\r\n        <el-input v-model=\"updateParams.mobile\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"呼叫坐席\" prop=\"callSeat\">\r\n        <el-input v-model=\"updateParams.callSeat\"></el-input>\r\n      </el-form-item>\r\n\r\n      <div>\r\n        <el-form-item label=\"登录账号\" prop=\"userName\">\r\n          <el-input v-model=\"updateParams.userName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"transformPassword\">\r\n          <el-input v-model=\"updateParams.transformPassword\" type=\"password\"></el-input>\r\n        </el-form-item>\r\n\r\n      </div>\r\n    </el-form>\r\n\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"updateVisible = false\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"beforeSubmit('updateForm')\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\n\r\nexport default {\r\n  props:['deptId'],\r\n  data() {\r\n    return {\r\n      list: [],\r\n      page: { },\r\n      params: {\r\n        deptIdFk: '',\r\n        status: '',\r\n        roleIdFk: '',\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      },\r\n      statusOptions: [\r\n        { id: 1, label: '在职' },\r\n        { id: 0, label: '离职' },\r\n      ],\r\n      roleOptions: [],\r\n\r\n      updateDeptId: '',\r\n      updateVisible: false,\r\n      updateParams:{\r\n        deptName: '',\r\n        type: '' // 部门类型\r\n      },\r\n      departmentTree: [],\r\n      departmentProps: {\r\n        label: 'label',\r\n        value: 'id',\r\n        //disabled: 'xxx'\r\n      },\r\n      updateDepartment: [],\r\n      updateRoleOptions: [],\r\n      updateRules: {\r\n        deptName: [\r\n          { required: true, message: '输入不能为空', trigger: 'blur' },\r\n          { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        type: [\r\n          { required: true, message: '请选择子部门', trigger: 'change' },\r\n        ]\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      userInfo: state => state.user.userInfo\r\n    })\r\n  },\r\n  watch:{\r\n    deptId(val, oldVal) {\r\n      console.log(val, oldVal)\r\n      this.params = {\r\n        deptIdFk: val\r\n      }\r\n      this.search()\r\n    },\r\n  },\r\n  created(){\r\n\r\n    this.API.qryRole().then(res => {\r\n      console.log(res)\r\n      this.roleOptions = res.result\r\n    })\r\n\r\n    this.API.qryDept({ deptId: this.userInfo.deptIdFk }).then(res => {\r\n      console.log(res)\r\n      this.departmentTree = res.result\r\n    })\r\n  },\r\n  methods:{\r\n    search() {\r\n      this.API.qryUser(this.params).then(res => {\r\n        console.log(res)\r\n        this.list = res.result\r\n        this.page = res.page\r\n      })\r\n    },\r\n    handlePageChange(pageIndex) {\r\n      this.params.pageIndex = pageIndex\r\n      this.search()\r\n    },\r\n    getDeptRole() {\r\n      const params = {\r\n        type: this.userInfo.deptType,\r\n        level: this.userInfo.deptLevel\r\n      }\r\n      this.API.getDeptRole(params).then(res => {\r\n        console.log(res)\r\n      })\r\n    },\r\n    handleDelete(item) {\r\n\r\n    },\r\n    handleUpdate(item) {\r\n      this.updateVisible = true\r\n\r\n      this.getDeptRole()\r\n\r\n      if (item) {\r\n        this.updateParams = item\r\n        this.updateDeptId = [item.deptIdFk]\r\n        this.updateParams.transformPassword = item.password //'123456'\r\n        /*this.updateParams = {\r\n          deptIdFk: item.deptIdFk,\r\n          roleIdFk: item.roleIdFk,\r\n          userId: item.userId,\r\n          name: item.name,\r\n          mobile: item.mobile,\r\n          callSeat: item.callSeat,\r\n          userName: item.userName,\r\n          transformPassword: '******',\r\n        }*/\r\n      } else {\r\n        this.updateParams = { }\r\n      }\r\n    },\r\n    // 保存\r\n    beforeSubmit(formName){\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.updateVisible = false\r\n          this.updateParams.deptIdFk = this.updateDeptId[this.updateDeptId.length - 1]\r\n          this.handleSubmit()\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    handleSubmit() {\r\n      const apiName = this.updateParams.userId ? 'mdfUser' : 'addUser'\r\n      this.API[apiName](this.updateParams).then(res => {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '保存成功！'\r\n        })\r\n        this.search()\r\n      });\r\n    },\r\n      // 查询座席列表\r\n      _find(){\r\n        var obj={};\r\n        this.formInline.select == 0 ? obj.name= this.formInline.default : \"\";\r\n        this.formInline.select == 1 ? obj.ID= this.formInline.default : \"\";\r\n        this.formInline.select == 2 ? obj.mobile= this.formInline.default : \"\";\r\n        this.findFormInline[0].default == \"在职\" ? obj.status = 1 : \"\";\r\n        this.findFormInline[0].default == \"离职\" ? obj.status = 0 : \"\";\r\n        obj.roleIdFk = this.findFormInline[1].default; // 部门ID\r\n        this.API.tissueGetSeat(obj)\r\n        .then(res => {\r\n          let list = res.result;\r\n\r\n          for(var i=0; i<list.length; i++){\r\n            if (list[i].status == 1) {\r\n                list[i].status = \"在职\"\r\n            }\r\n            else {\r\n              list[i].status = \"离职\"\r\n            }\r\n          }\r\n          this.seatDataWatch = list;\r\n        }).catch(err => {\r\n           console.log('error:' + err.message)\r\n        })\r\n      },\r\n      // 选中后显示不同的 选框-------------------------------------------\r\n      tabEdit (callback,key){\r\n        // 如果选 择了 \"事业群\"  把 \"事业部\" 的数据全部加载出来\r\n        if (key == 'groupName'){\r\n            this.tabEditWarp(callback, key, 'legionName')\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n        }\r\n        // 如果选 择了 \"事业部\"\r\n        else if(key == 'legionName'){\r\n          //  如果是 客服经理  客服组长   在线客服\r\n          if(this.isLabel == 7 || this.isLabel == 8 || this.isLabel == 9) { // 选 择客服经理  把客服部的数据加载出来\r\n            this.tabEditWarp(callback, key, 'customName');\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n          }\r\n          // 如果选 择了 \"事业部\"  把 \"推广部\" 的数据全部加载出来\r\n          else if (this.isLabel == 6){ // 是项目经理\r\n            this.tabEditWarp(callback, key, 'spreadName')\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n          }\r\n          else{\r\n            // 把 \"咨询部\" 的数据全部加载出来\r\n            this.tabEditWarp(callback, key, 'saleName')\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n          }\r\n        }\r\n        // 如果选 择了 \"咨询部\"  把 \"咨询组\" 的数据全部加载出来\r\n        else if(key == 'saleName'){\r\n          this.tabEditWarp(callback, key, 'saleGroupName')\r\n          // 这是为了获取部门ID\r\n          this.requiredOBJ.deptIdFk = callback;\r\n        }\r\n        // 这里只是为了获取 部门 ID\r\n        else if(key == 'saleGroupName'){\r\n          // 这是为了获取部门ID\r\n          this.requiredOBJ.deptIdFk = callback;\r\n        }\r\n\r\n        // 如果选 择了 \"客服部\"  把 \"客服组\" 的数据全部加载出来\r\n        else if (key == 'customName'){\r\n          this.tabEditWarp(callback, key, 'customGroupName')\r\n        }\r\n        // 只选择用户组的时候  动态加载表单\r\n        else if(key == 'userGroupName'){\r\n          this.isLabel = callback; // 记住 你要新增什么\r\n          this.requiredOBJ.roleIdFk = callback; //  新增坐席  需要 用户组id\r\n          this.isAlertList(callback);\r\n          return;\r\n        };\r\n      },\r\n      // 因为每次下拉都要请求，大概要请求9次，这个是封装起来的\r\n      tabEditWarp(callback,key,obj){\r\n        this.API.seatAddChild({\r\n          deptId: callback\r\n        })\r\n        .then(res => {\r\n          let list = res.result;\r\n          // let spreadResult = [];\r\n          // for(let i=0; i<list.length; i++){\r\n          //   if (list[i].type == 4) { // 是推广部\r\n          //     spreadResult.push(list[i]);\r\n          //   }\r\n          // }\r\n          // if(this.isLabel == 6 && obj == \"spreadName\") // 是项目经理 只显示推广部\r\n          // {\r\n          //   this.newsFormInline[obj].list= spreadResult;\r\n          // }\r\n          // else{\r\n          //   this.newsFormInline[obj].list= list;\r\n          // }\r\n          this.newsFormInline[obj].list= list;\r\n        }).catch(err => {\r\n           console.log('error:' + err.message)\r\n        })\r\n      },\r\n      // 新增\r\n      newsEnter(formName){\r\n\r\n        for(let key in this.newsFormInline){\r\n          this.requiredOBJ[key] = this.newsFormInline[key].default\r\n        }\r\n\r\n        this.$refs[formName].validate((valid) => {\r\n          if(!valid) return;\r\n\r\n          // ------------------------新增坐席-----------------------------------------------\r\n          //console.log(this.newsFormInline);disabledValDeptId\r\n          // this.requiredOBJ.deptIdFk = this.disabledValDeptId;\r\n\r\n          this.API.seatgetUserAddUser(this.requiredOBJ)\r\n          .then(res => {\r\n              console.log(res);\r\n          }).catch(err => {\r\n             console.log('error:' + err.message)\r\n          })\r\n\r\n          sessionStorage.setItem(\"newsFormInline\",JSON.stringify(this.newsFormInline));\r\n          let newsFormInline = JSON.parse(sessionStorage.getItem('newsFormInline'));\r\n          this.tableData.push(newsFormInline);\r\n          sessionStorage.clear(\"newsFormInline\");\r\n          this.dialogFormVisible = false;\r\n          // console.log(this.tableData)\r\n        })\r\n\r\n      },\r\n      // 取消 编辑\r\n      editEase (){\r\n\r\n        this.EditList = JSON.parse(sessionStorage.getItem('indexedit'));\r\n        this.dialogFormVisibleEdit = false;\r\n        sessionStorage.clear(\"indexedit\");\r\n      },\r\n      // 确认编辑\r\n      editEnter(){\r\n        // 修改完成后 发送ajax\r\n        console.log(this.tableData)\r\n        this.dialogFormVisibleEdit = false;\r\n        sessionStorage.clear(\"indexedit\");\r\n      },\r\n      // 点击编辑\r\n      edit(e,index){\r\n        console.log(e);\r\n        //let callback = e.userGroupName.default;\r\n\r\n        // for(let k in e){\r\n        //   console.log(k);\r\n        //   //this.newsFormInline[k].default = e[k]\r\n        // }\r\n\r\n        //存到本地\r\n        sessionStorage.clear(\"indexedit\");\r\n        sessionStorage.setItem(\"indexedit\",JSON.stringify(e));\r\n        this.dialogFormVisibleEdit = true;\r\n        this.EditId= index.$index\r\n      },\r\n      // 删除\r\n      RmovehandleClick(scope){\r\n        // let off= confirm(\"你确定要删除么\");\r\n        // if(!off) return;\r\n        // 接口\r\n        console.log(scope.row);\r\n        this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n         confirmButtonText: '确定',\r\n         cancelButtonText: '取消',\r\n         type: 'warning'\r\n         }).then(() => {\r\n           this.API.seatRemoveUser({\r\n             userId:scope.row.userId\r\n           })\r\n           .then(res => {\r\n             if (res.data.status == 200 ) {\r\n               this.$message({\r\n                 message: '恭喜你，删除成功', type: 'success'\r\n               });\r\n             }\r\n             else if(res.data.status == 1){\r\n               this.$message({\r\n                 message: '只有离职的用户可以被删', type: 'warning'\r\n               });\r\n             }\r\n           }).catch(err => {\r\n              console.log('error:' + err.message)\r\n           })\r\n         })\r\n\r\n\r\n      },\r\n      // 动态显示弹框\r\n      isAlertList(callback){\r\n        console.log(callback);\r\n        switch (callback) {\r\n          case 1: // 事业群总经理\r\n            this.indexedit = [\"userGroupName\"];\r\n            break;\r\n          case 2: // 事业部经理\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\"];\r\n            break;\r\n          case 3: // 咨询部经理\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"saleName\"];\r\n            break;\r\n          case 4: //咨询组长\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"saleName\",\"saleGroupName\"];\r\n            break;\r\n          case 5: //咨询师\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"saleName\",\"saleGroupName\"];\r\n            break;\r\n          case 6: // 项目经理\r\n            //this.indexedit = [true,true,true,false,false,true];\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"spreadName\"];\r\n            break;\r\n          case 7: // 客服经理\r\n            //this.indexedit = [true,true,true,false,false,false,true];\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"\",\"customName\"];\r\n            break;\r\n          case 8: //客服组长\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"\",\"customName\",\"customGroupName\"];\r\n            // this.trendsList(index);\r\n            break;\r\n          case 9: // 在线客服\r\n            //this.indexedit = [true,true,true,false,false,false,true,true];\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"\",\"customName\",\"customGroupName\"];\r\n            //this.trendsList(index);\r\n            break;\r\n\r\n        }\r\n      }\r\n  },\r\n  /*data(){\r\n    return {\r\n        dialogFormVisible:false,\r\n        dialogFormVisibleEdit: false,\r\n        indexedit:[true,true],\r\n        seatDataWatch: this.seatData, // 为实现父子组件双向绑定而生\r\n        hideList:[],\r\n        EditList:{},\r\n        currentPage:3,\r\n        formInline: {\r\n          default:\"\",\r\n          select:\"\"\r\n        },\r\n        // 主要是为了做验证\r\n        requiredOBJ:{\r\n          userGroupName: \"\",\r\n          groupName: \"\",\r\n          legionName: \"\",\r\n          saleName: \"\",\r\n          saleGroupName : \"\",\r\n          spreadName: \"\",\r\n          customName: \"\",\r\n          customGroupName: \"\",\r\n          name: \"\",\r\n          mobile:\"\",\r\n          callSeat:\"\",\r\n          userName:\"\",\r\n          transformPassword: \"\"\r\n        },\r\n        findFormInline: [\r\n          {default:\"\", label:\"条件搜索\", list:[\"在职\",\"离职\"]},\r\n          {default:\"\", list:[\"事业群总经理\",\"事业部经理\",\"咨询部经理\",\"咨询组长\",\"咨询师\",\"项目经理\",\"客服组长\",\"在线客服\"]},\r\n        ],\r\n        // 新增的弹框\r\n        newsFormInline: {\r\n          userGroupName: {default:\"\",defaultbb:\"\", label:\"用户组\", list:[\"事业群总经理\",\"事业部经理\",\"咨询部经理\",\"咨询组长\",\"咨询师\",\"项目经理\",\"客服经理\",\"客服组长\",\"在线客服\"]},\r\n          groupName: {default:\"\", label:\"事业群\", list:[\"一\",\"二\"]},\r\n          legionName : {default:\"\", label:\"事业部\", list:[\"1部\",\"2部\"]},\r\n          saleName: {default:\"\", label:\"咨询部\", list:[\"1部\",\"2部\"]},\r\n          saleGroupName : {default:\"\", label:\"咨询组\", list:[\"1组\",\"2组\"]},\r\n          spreadName:{default:\"\",label:\"推广部\",list:[\"一部\",\"二部\"]},\r\n          customName: {default:\"\", label:\"客服部\", list:[\"一部\",\"2部\",\"3部\",\"4部\"]},\r\n          customGroupName: {default:\"\", label:\"客服组\", list:[\"一组\",\"二组\",\"三组\",\"四组\"]},\r\n          name: {default:\"\", label:\"姓名\"},\r\n          mobile: {default:\"\", label:\"手机号码\"},\r\n          callSeat: {default:\"\", label:\"呼叫坐席\"},\r\n          userName: {default:\"\", label:\"账号\"},\r\n          transformPassword: {default:\"\", label:\"密码\"}\r\n        },\r\n        // 编辑的弹框\r\n        newsFormInlineEidt: {\r\n          userGroupName: {default:\"\",defaultbb:\"\", label:\"用户组\", list:[\"事业群总经理\",\"事业部经理\",\"咨询部经理\",\"咨询组长\",\"咨询师\",\"项目经理\",\"客服经理\",\"客服组长\",\"在线客服\"]},\r\n          groupName: {default:\"\", label:\"事业群\", list:[\"一\",\"二\"]},\r\n          legionName : {default:\"\", label:\"事业部\", list:[\"1部\",\"2部\"]},\r\n          saleName: {default:\"\", label:\"咨询部\", list:[\"1部\",\"2部\"]},\r\n          saleGroupName : {default:\"\", label:\"咨询组\", list:[\"1组\",\"2组\"]},\r\n          spreadName:{default:\"\",label:\"推广部\",list:[\"一部\",\"二部\"]},\r\n          customName: {default:\"\", label:\"客服部\", list:[\"一部\",\"2部\",\"3部\",\"4部\"]},\r\n          customGroupName: {default:\"\", label:\"客服组\", list:[\"一组\",\"二组\",\"三组\",\"四组\"]},\r\n          name: {default:\"\", label:\"姓名\"},\r\n          mobile: {default:\"\", label:\"手机号码\"},\r\n          callSeat: {default:\"\", label:\"呼叫坐席\"},\r\n          userName: {default:\"\", label:\"账号\"},\r\n          transformPassword: {default:\"\", label:\"密码\"},\r\n          status: {default:\"在职\"}\r\n        }\r\n    }\r\n  }*/\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .wrap {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 280px;\r\n    //height: 100%;\r\n    font-size: 15px;\r\n    background: #2f3941;\r\n    .g-title {\r\n      height: 60px;\r\n      line-height: 60px;\r\n      color: #fff;\r\n      background: #333d46;\r\n      h2 {\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n  .tree-wrap{\r\n    background: #2f3941;\r\n    color: #a8b0b9;\r\n    .custom-node{\r\n      line-height: 32px;\r\n      .icon{\r\n        float: left;\r\n        img{\r\n          width: 13px;\r\n          margin-left:10px;\r\n          float: left;\r\n          display: none;\r\n          margin-top: 10px;\r\n        }\r\n      }\r\n      .title{\r\n        float: left;\r\n      }\r\n    }\r\n    .el-tree-node__content{\r\n      height: 32px;\r\n    }\r\n    .el-tree-node:focus>.el-tree-node__content, .el-tree-node__content:hover, .el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content {\r\n      background-color: #1e2630;\r\n    }\r\n    .el-tree-node__content>.el-tree-node__expand-icon{\r\n      float: left;\r\n    }\r\n    .el-tree-node:focus>.el-tree-node__content, .el-tree-node__content:hover .custom-node .icon img {\r\n      display: block;\r\n    }\r\n    .el-dialog .el-dialog__headerbtn{\r\n      display: none;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/system/children/employee-update.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"left\",attrs:{\"title\":_vm.updateParams.userId ? '编辑坐席' : '新增坐席',\"visible\":_vm.updateVisible,\"close-on-click-modal\":false,\"width\":\"720px\"},on:{\"update:visible\":function($event){_vm.updateVisible=$event}}},[_c('el-form',{ref:\"updateForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.updateParams,\"rules\":_vm.updateRules,\"inline\":true,\"resetField\":true,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"部门\",\"prop\":\"\"}},[_c('el-cascader',{staticClass:\"mr20\",staticStyle:{\"width\":\"180px\"},attrs:{\"options\":_vm.departmentTree,\"props\":_vm.departmentProps,\"show-all-levels\":false,\"change-on-select\":true,\"expand-trigger\":\"hover\"},model:{value:(_vm.updateDeptId),callback:function ($$v) {_vm.updateDeptId=$$v},expression:\"updateDeptId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户组\",\"prop\":\"\"}},[_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.updateParams.roleIdFk),callback:function ($$v) {_vm.$set(_vm.updateParams, \"roleIdFk\", $$v)},expression:\"updateParams.roleIdFk\"}},_vm._l((_vm.roleOptions),function(item,key){return _c('el-option',{key:key,attrs:{\"label\":item.roleName,\"value\":item.roleId}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.updateParams.name),callback:function ($$v) {_vm.$set(_vm.updateParams, \"name\", $$v)},expression:\"updateParams.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.updateParams.mobile),callback:function ($$v) {_vm.$set(_vm.updateParams, \"mobile\", $$v)},expression:\"updateParams.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"呼叫坐席\",\"prop\":\"callSeat\"}},[_c('el-input',{model:{value:(_vm.updateParams.callSeat),callback:function ($$v) {_vm.$set(_vm.updateParams, \"callSeat\", $$v)},expression:\"updateParams.callSeat\"}})],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"登录账号\",\"prop\":\"userName\"}},[_c('el-input',{model:{value:(_vm.updateParams.userName),callback:function ($$v) {_vm.$set(_vm.updateParams, \"userName\", $$v)},expression:\"updateParams.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"transformPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.updateParams.transformPassword),callback:function ($$v) {_vm.$set(_vm.updateParams, \"transformPassword\", $$v)},expression:\"updateParams.transformPassword\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.updateVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.beforeSubmit('updateForm')}}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-3c99c699\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/system/children/employee-update.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c99c699\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./employee-update.vue\")\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c99c699\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=1!./employee-update.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./employee-update.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./employee-update.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c99c699\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./employee-update.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c99c699\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/system/children/employee-update.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"wrap\">\r\n    <bread-crumb>\r\n      <h2>坐席管理</h2>\r\n      <el-button slot=\"right\" type=\"primary\" v-if=\"$root.perm.ZXGL_XZZX\" @click=\"handleUpdate()\">新增坐席</el-button>\r\n    </bread-crumb>\r\n\r\n    <el-form :inline=\"true\" :model=\"params\" class=\"demo-form-inline\" label-width=\"80px\" size=\"small\">\r\n      <label class=\"el-form-item__label boldFont\" style=\"font-weight: normal;\">精确查找:</label>\r\n      <el-input class=\"input-with-select\" v-model=\"params[searchField[searchFieldName]]\" :clearable=\"true\" placeholder=\"请输入内容\" :style=\"`width:240px`\" size=\"small\">\r\n        <el-select v-model=\"searchFieldName\"  slot=\"prepend\" placeholder=\"请选择\" :style=\"`width:100px`\">\r\n          <el-option v-for='(item,index) in [\"姓名\",\"ID\",\"手机号\"]' :key=\"index\"  :label=\"item\" :value=\"index\"></el-option>\r\n        </el-select>\r\n      </el-input>\r\n\r\n      <el-form-item label=\"是否在职\">\r\n        <el-select v-model=\"params.status\" :clearable=\"true\" placeholder=\"请选择\" style=\"width: 140px;\">\r\n          <el-option :label=\"item.label\" :value=\"item.id\" v-for=\"(item, key) in statusOptions\" :key=\"key\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item  label=\"用户组\">\r\n        <el-select v-model=\"params.roleIdFk\" :clearable=\"true\" placeholder=\"请选择\" style=\"width: 140px;\">\r\n          <el-option :label=\"item.roleName\" :value=\"item.roleId\" v-for=\"(item, key) in roleOptions\" :key=\"key\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"success\" @click=\"beforeSearch(1)\">查询</el-button>\r\n      </el-form-item>\r\n      <!-- <el-form-item>\r\n        <el-button type=\"primary\" @click=\"dialogFormVisible = true\"> 新增</el-button>\r\n      </el-form-item> -->\r\n    </el-form>\r\n\r\n    <data-pagination :page-data=\"page\" @change=\"beforeSearch\">\r\n      <el-table slot=\"table\" class=\"table\"\r\n        :data=\"list\">\r\n        <el-table-column prop=\"userId\" label=\"ID\" width=\"80\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"name\" label=\"姓名\" width=\"100\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"roleName\" label=\"用户组\" width=\"130\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"userName\" label=\"账号\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"callSeat\" label=\"呼叫座席\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"bu\" label=\"事业部\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"deptChild\" label=\"子部门\">\r\n        </el-table-column>\r\n\r\n        <el-table-column prop=\"group\" label=\"小组\">\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"状态\">\r\n          <template slot-scope=\"scope\">\r\n            {{ scope.row.status == 1 ? '在职' : scope.row.status == 0 ? '离职' : '禁用' }}\r\n          </template>\r\n        </el-table-column>\r\n\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" size=\"small\" @click=\"handleUpdate(scope.row)\">编辑</el-button>\r\n            <el-button v-if=\"scope.row.status == 0\" type=\"text\" size=\"small\" @click=\"handleDelete(scope.row)\">删除</el-button>\r\n            <el-button v-else type=\"text\" size=\"small\" disabled title=\"状态为离职的员工才可以删除\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </data-pagination>\r\n\r\n    <!-- 编辑弹框 -->\r\n    <el-dialog class=\"left\" :title=\"updateParams.userId ? '编辑坐席' : '新增坐席'\" :visible.sync=\"updateVisible\" :rules=\"updateRules\" :close-on-click-modal=\"false\" width=\"720px\">\r\n      <el-form class=\"demo-ruleForm\" :model=\"updateParams\" :rules=\"updateRules\" :inline=\"true\" ref=\"updateForm\" :resetField=\"true\" label-width=\"100px\">\r\n\r\n        <div>\r\n          <el-form-item label=\"部门\" prop=\"deptIdFk\">\r\n            <el-cascader class=\"mr20\" style=\"width: 180px\"\r\n              v-model=\"updateDeptId\"\r\n              :options=\"updateParams.userId && deptInfo.deptLevel < 5 ? departmentNew : departmentTree\"\r\n              :props=\"departmentProps\"\r\n              @blur=\"getDeptRole(true)\"\r\n              :clearable=\"true\"\r\n              :show-all-levels=\"false\"\r\n              :change-on-select=\"true\"\r\n              expand-trigger=\"hover\">\r\n            </el-cascader>\r\n          </el-form-item>\r\n\r\n          <el-form-item  label=\"用户组\" prop=\"roleIdFk\">\r\n            <el-select v-model=\"updateParams.roleIdFk\" placeholder=\"请选择\" style=\"width: 140px;\">\r\n              <el-option :label=\"item.roleName\" :value=\"item.roleId\" v-for=\"(item, key) in updateRoleOptions\" :key=\"key\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item label=\"姓名\" prop=\"name\">\r\n            <el-input v-model=\"updateParams.name\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item v-if=\"updateParams.userId\" label=\"角色状态\" prop=\"status\">\r\n            <el-select v-model=\"updateParams.status\" placeholder=\"请选择\" style=\"width: 140px;\">\r\n              <el-option :label=\"item.label\" :value=\"item.id\" v-for=\"(item, key) in statusOptions\" :key=\"key\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </div>\r\n        <el-form-item label=\"手机\" prop=\"mobile\">\r\n          <el-input v-model=\"updateParams.mobile\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"呼叫坐席\" prop=\"callSeat\">\r\n          <el-input v-model=\"updateParams.callSeat\"></el-input>\r\n        </el-form-item>\r\n\r\n        <div>\r\n          <el-form-item label=\"登录账号\" prop=\"userName\">\r\n            <el-input v-model=\"updateParams.userName\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" prop=\"transformPassword\">\r\n            <el-input v-model=\"updateParams.transformPassword\" type=\"password\"></el-input>\r\n          </el-form-item>\r\n\r\n        </div>\r\n      </el-form>\r\n\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"updateVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"beforeSubmit('updateForm')\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport md5 from 'js-md5'\r\nimport { mapState } from 'vuex'\r\nimport EmployeeUpdate from './employee-update'\r\n\r\nexport default{\r\n  props:['selectedDept'],\r\n  components: {\r\n    EmployeeUpdate\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      list: [],\r\n      page: { },\r\n      params: {\r\n        deptIdFk: '',\r\n        status: '',\r\n        roleIdFk: '',\r\n        pageIndex: 1,\r\n        pageSize: 10\r\n      },\r\n      searchFieldName: '',\r\n      searchField: {\r\n        '0': 'name',\r\n        '1': 'userId',\r\n        '2': 'mobile'\r\n      },\r\n      statusOptions: [\r\n        { id: 1, label: '在职' },\r\n        { id: 0, label: '离职' },\r\n        { id: 3, label: '禁用' },\r\n      ],\r\n      roleOptions: [],\r\n\r\n      updateDeptId: [],\r\n      updateVisible: false,\r\n      updateParams:{\r\n        deptName: '',\r\n        type: '' // 部门类型\r\n      },\r\n      departmentTree: [],\r\n      departmentProps: {\r\n        label: 'label',\r\n        value: 'id',\r\n        //disabled: 'xxx'\r\n      },\r\n      updateDepartment: [],\r\n      updateRoleOptions: [],\r\n      updateTypeLevel: {},   // 新增/编辑坐席时\r\n      updateRules: {\r\n        deptIdFk: [\r\n          { required: true, message: '请选择部门', trigger: 'change' },\r\n        ],\r\n        roleIdFk: [\r\n          { required: true, message: '请选择用户组', trigger: 'change' },\r\n        ],\r\n        name: [\r\n          { required: true, message: '请输入姓名', trigger: 'blur' },\r\n          { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\r\n        ],\r\n        status: [\r\n          { required: true, message: '请选择在职状态', trigger: 'change' },\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '请输入手机号', trigger: 'blur' },\r\n        ],\r\n        userName: [\r\n          { required: true, message: '请输入账号', trigger: 'blur' },\r\n          { min: 2, max: 20, message: '长度在 2 到 20 个字符', trigger: 'blur' }\r\n        ],\r\n        /*transformPassword: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n        ],*/\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      userInfo: state => state.user.userInfo,\r\n      deptInfo: state => state.user.deptInfo\r\n    }),\r\n    departmentNew() {\r\n      const deptInfo = this.deptInfo\r\n\r\n      let item = {\r\n          id: deptInfo.deptId,\r\n          label: deptInfo.deptName || '未知',\r\n          level: deptInfo.deptLevel,\r\n          type: deptInfo.type,\r\n          //children: this.departmentTree\r\n        }\r\n      if (this.departmentTree && this.departmentTree.length) {\r\n        item.children = this.departmentTree\r\n      }\r\n      console.log(item)\r\n      return [item]\r\n    }\r\n  },\r\n  watch:{\r\n    selectedDept(val, oldVal) {\r\n      // console.log(val, oldVal)\r\n      if ( val &&  val.hasPerm) {\r\n        this.params = {\r\n          deptIdFk: val.id\r\n        }\r\n        this.search()\r\n      } else {\r\n        this.params = {\r\n          pageIndex: 1,\r\n          pageSize: 10\r\n        }\r\n        this.list = []\r\n        this.page = {}\r\n      }\r\n    },\r\n    updateDeptId(val) {\r\n      if (val && val.length) {\r\n        this.updateParams.deptIdFk = val[val.length - 1]\r\n\r\n        console.log(this.updateParams.deptIdFk)\r\n        //this.getDeptRole()\r\n      }\r\n    }\r\n\t},\r\n  created(){\r\n    this.API.qryRole().then(res => {\r\n      // console.log(res)\r\n      this.roleOptions = res.result\r\n    })\r\n\r\n    this.API.qryDept({ deptId: this.userInfo.deptIdFk }).then(res => {\r\n      // console.log(res)\r\n      this.departmentTree = res.result\r\n    })\r\n  },\r\n  methods:{\r\n    search() {\r\n      this.API.qryUser(this.params).then(res => {\r\n        console.log(res)\r\n        this.list = res.result\r\n        this.page = res.page\r\n      })\r\n    },\r\n    getDeptRole(isClear) {\r\n      if (isClear) {\r\n        this.updateParams.roleIdFk = ''\r\n      }\r\n      if (this.updateParams.deptIdFk) {\r\n\r\n        this.getTypeLevel(this.departmentNew)\r\n        console.log(this.updateTypeLevel)\r\n        this.API.getDeptRole(this.updateTypeLevel).then(res => {\r\n          //this.updateParams.roleIdFk = ''\r\n          this.updateRoleOptions = res.deptRole && res.deptRole.length ? res.deptRole : []\r\n        })\r\n\r\n      }\r\n    },\r\n    getTypeLevel(list) {\r\n      let vm = this\r\n      if (list && list.length) {\r\n        list.forEach(listItem => {\r\n          console.log(listItem.id, this.updateParams.deptIdFk)\r\n          if (listItem.id == this.updateParams.deptIdFk) {\r\n            vm.updateTypeLevel = {\r\n              type: listItem.type,\r\n              level: listItem.level\r\n            }\r\n            return\r\n          }\r\n\r\n          if (listItem.children && listItem.children.length) {\r\n            vm.getTypeLevel(listItem.children)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    beforeSearch(pageIndex) {\r\n      if (this.deptId) {\r\n        this.$message({\r\n          type: 'error',\r\n          message: '请先选择部门'\r\n        })\r\n      } else {\r\n        this.params.pageIndex = pageIndex\r\n        this.search()\r\n      }\r\n    },\r\n    /*getDeptRole() {\r\n      const params = {\r\n        type: this.userInfo.deptType,\r\n        level: this.userInfo.deptLevel\r\n      }\r\n      this.API.getDeptRole(params).then(res => {\r\n        console.log(res)\r\n      })\r\n    },*/\r\n    handleDelete(item) {\r\n      this.$confirm('确定删除坐席(' + item.name + ')吗?', '操作提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        console.log({userId: item.userId})\r\n        this.API.delUser({userId: item.userId}).then(res => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          });\r\n          this.search();\r\n        })\r\n      }).catch(() => {\r\n\r\n      });\r\n    },\r\n    handleUpdate(item) {\r\n      this.updateVisible = true\r\n\r\n      //this.getDeptRole()\r\n\r\n      console.log(item)\r\n      if (item) {\r\n        //this.updateParams = item\r\n        //delete this.updateParams.createTime\r\n        this.updateDeptId = [item.deptIdFk]\r\n        this.updateParams = {\r\n          deptIdFk: item.deptIdFk,\r\n          roleIdFk: item.roleIdFk,\r\n          userId: item.userId,\r\n          name: item.name,\r\n          mobile: item.mobile,\r\n          callSeat: item.callSeat,\r\n          userName: item.userName,\r\n          //transformPassword: '******',\r\n          status: item.status,\r\n          password: item.password,\r\n        }\r\n        console.log(this.updateParams, item)\r\n        this.updateParams.transformPassword = item.password //'123456'\r\n        this.getDeptRole()\r\n      } else {\r\n        this.updateParams = {\r\n          status: 1\r\n        }\r\n      }\r\n    },\r\n    // 保存\r\n    beforeSubmit(formName){\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.updateVisible = false\r\n          this.updateParams.deptIdFk = this.updateDeptId[this.updateDeptId.length - 1]\r\n          this.handleSubmit()\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      })\r\n    },\r\n    handleSubmit() {\r\n      const apiName = this.updateParams.userId ? 'mdfUser' : 'addUser'\r\n      let params = Object.assign({ }, this.updateParams)\r\n      //params.transformPassword = md5(params.transformPassword)\r\n      params.transformPassword = params.transformPassword ? this.$trim(params.transformPassword) : ''\r\n      if (apiName == 'addUser') {\r\n        params.transformPassword = params.transformPassword ? md5(params.transformPassword) : ''\r\n      } else {\r\n        params.transformPassword = params.transformPassword == params.password ? params.transformPassword : md5(params.transformPassword)\r\n      }\r\n      if (this.loading) {\r\n        return;\r\n      } else {\r\n        this.loading = true\r\n      }\r\n      this.API[apiName](params).then(res => {\r\n        this.loading = false\r\n        this.$message({\r\n          type: 'success',\r\n          message: '保存成功！'\r\n        })\r\n        this.search()\r\n      }).catch(err => {\r\n        this.loading = false\r\n      });\r\n    },\r\n      // 查询座席列表\r\n      _find(){\r\n        var obj={};\r\n        this.formInline.select == 0 ? obj.name= this.formInline.default : \"\";\r\n        this.formInline.select == 1 ? obj.ID= this.formInline.default : \"\";\r\n        this.formInline.select == 2 ? obj.mobile= this.formInline.default : \"\";\r\n        this.findFormInline[0].default == \"在职\" ? obj.status = 1 : \"\";\r\n        this.findFormInline[0].default == \"离职\" ? obj.status = 0 : \"\";\r\n        obj.roleIdFk = this.findFormInline[1].default; // 部门ID\r\n        this.API.tissueGetSeat(obj)\r\n        .then(res => {\r\n          let list = res.result;\r\n\r\n          for(var i=0; i<list.length; i++){\r\n            if (list[i].status == 1) {\r\n                list[i].status = \"在职\"\r\n            }\r\n            else {\r\n              list[i].status = \"离职\"\r\n            }\r\n          }\r\n          this.seatDataWatch = list;\r\n        }).catch(err => {\r\n           console.log('error:' + err.message)\r\n        })\r\n      },\r\n      // 选中后显示不同的 选框-------------------------------------------\r\n      tabEdit (callback,key){\r\n        // 如果选 择了 \"事业群\"  把 \"事业部\" 的数据全部加载出来\r\n        if (key == 'groupName'){\r\n            this.tabEditWarp(callback, key, 'legionName')\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n        }\r\n        // 如果选 择了 \"事业部\"\r\n        else if(key == 'legionName'){\r\n          //  如果是 客服经理  客服组长   在线客服\r\n          if(this.isLabel == 7 || this.isLabel == 8 || this.isLabel == 9) { // 选 择客服经理  把客服部的数据加载出来\r\n            this.tabEditWarp(callback, key, 'customName');\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n          }\r\n          // 如果选 择了 \"事业部\"  把 \"推广部\" 的数据全部加载出来\r\n          else if (this.isLabel == 6){ // 是项目经理\r\n            this.tabEditWarp(callback, key, 'spreadName')\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n          }\r\n          else{\r\n            // 把 \"咨询部\" 的数据全部加载出来\r\n            this.tabEditWarp(callback, key, 'saleName')\r\n            // 这是为了获取部门ID\r\n            this.requiredOBJ.deptIdFk = callback;\r\n          }\r\n        }\r\n        // 如果选 择了 \"咨询部\"  把 \"咨询组\" 的数据全部加载出来\r\n        else if(key == 'saleName'){\r\n          this.tabEditWarp(callback, key, 'saleGroupName')\r\n          // 这是为了获取部门ID\r\n          this.requiredOBJ.deptIdFk = callback;\r\n        }\r\n        // 这里只是为了获取 部门 ID\r\n        else if(key == 'saleGroupName'){\r\n          // 这是为了获取部门ID\r\n          this.requiredOBJ.deptIdFk = callback;\r\n        }\r\n\r\n        // 如果选 择了 \"客服部\"  把 \"客服组\" 的数据全部加载出来\r\n        else if (key == 'customName'){\r\n          this.tabEditWarp(callback, key, 'customGroupName')\r\n        }\r\n        // 只选择用户组的时候  动态加载表单\r\n        else if(key == 'userGroupName'){\r\n          this.isLabel = callback; // 记住 你要新增什么\r\n          this.requiredOBJ.roleIdFk = callback; //  新增坐席  需要 用户组id\r\n          this.isAlertList(callback);\r\n          return;\r\n        };\r\n      },\r\n      // 因为每次下拉都要请求，大概要请求9次，这个是封装起来的\r\n      tabEditWarp(callback,key,obj){\r\n        this.API.seatAddChild({\r\n          deptId: callback\r\n        })\r\n        .then(res => {\r\n          let list = res.result;\r\n          // let spreadResult = [];\r\n          // for(let i=0; i<list.length; i++){\r\n          //   if (list[i].type == 4) { // 是推广部\r\n          //     spreadResult.push(list[i]);\r\n          //   }\r\n          // }\r\n          // if(this.isLabel == 6 && obj == \"spreadName\") // 是项目经理 只显示推广部\r\n          // {\r\n          //   this.newsFormInline[obj].list= spreadResult;\r\n          // }\r\n          // else{\r\n          //   this.newsFormInline[obj].list= list;\r\n          // }\r\n          this.newsFormInline[obj].list= list;\r\n        }).catch(err => {\r\n           console.log('error:' + err.message)\r\n        })\r\n      },\r\n      // 新增\r\n      newsEnter(formName){\r\n\r\n        for(let key in this.newsFormInline){\r\n          this.requiredOBJ[key] = this.newsFormInline[key].default\r\n        }\r\n\r\n        this.$refs[formName].validate((valid) => {\r\n          if(!valid) return;\r\n\r\n          // ------------------------新增坐席-----------------------------------------------\r\n          //console.log(this.newsFormInline);disabledValDeptId\r\n          // this.requiredOBJ.deptIdFk = this.disabledValDeptId;\r\n\r\n          this.API.seatgetUserAddUser(this.requiredOBJ)\r\n          .then(res => {\r\n              console.log(res);\r\n          }).catch(err => {\r\n             console.log('error:' + err.message)\r\n          })\r\n\r\n          sessionStorage.setItem(\"newsFormInline\",JSON.stringify(this.newsFormInline));\r\n          let newsFormInline = JSON.parse(sessionStorage.getItem('newsFormInline'));\r\n          this.tableData.push(newsFormInline);\r\n          sessionStorage.clear(\"newsFormInline\");\r\n          this.dialogFormVisible = false;\r\n          // console.log(this.tableData)\r\n        })\r\n\r\n      },\r\n      // 取消 编辑\r\n      editEase (){\r\n\r\n        this.EditList = JSON.parse(sessionStorage.getItem('indexedit'));\r\n        this.dialogFormVisibleEdit = false;\r\n        sessionStorage.clear(\"indexedit\");\r\n      },\r\n      // 确认编辑\r\n      editEnter(){\r\n        // 修改完成后 发送ajax\r\n        console.log(this.tableData)\r\n        this.dialogFormVisibleEdit = false;\r\n        sessionStorage.clear(\"indexedit\");\r\n      },\r\n      // 点击编辑\r\n      edit(e,index){\r\n        console.log(e);\r\n        //let callback = e.userGroupName.default;\r\n\r\n        // for(let k in e){\r\n        //   console.log(k);\r\n        //   //this.newsFormInline[k].default = e[k]\r\n        // }\r\n\r\n        //存到本地\r\n        sessionStorage.clear(\"indexedit\");\r\n        sessionStorage.setItem(\"indexedit\",JSON.stringify(e));\r\n        this.dialogFormVisibleEdit = true;\r\n        this.EditId= index.$index\r\n      },\r\n      // 删除\r\n      RmovehandleClick(scope){\r\n        // let off= confirm(\"你确定要删除么\");\r\n  \t\t\t// if(!off) return;\r\n        // 接口\r\n        console.log(scope.row);\r\n        this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n         confirmButtonText: '确定',\r\n         cancelButtonText: '取消',\r\n         type: 'warning'\r\n         }).then(() => {\r\n           this.API.seatRemoveUser({\r\n             userId:scope.row.userId\r\n           })\r\n           .then(res => {\r\n             if (res.data.status == 200 ) {\r\n               this.$message({\r\n                 message: '恭喜你，删除成功', type: 'success'\r\n               });\r\n             }\r\n             else if(res.data.status == 1){\r\n               this.$message({\r\n                 message: '只有离职的用户可以被删', type: 'warning'\r\n               });\r\n             }\r\n           }).catch(err => {\r\n              console.log('error:' + err.message)\r\n           })\r\n         })\r\n\r\n\r\n      },\r\n      // 动态显示弹框\r\n      isAlertList(callback){\r\n        console.log(callback);\r\n        switch (callback) {\r\n          case 1: // 事业群总经理\r\n            this.indexedit = [\"userGroupName\"];\r\n            break;\r\n          case 2: // 事业部经理\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\"];\r\n            break;\r\n          case 3: // 咨询部经理\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"saleName\"];\r\n            break;\r\n          case 4: //咨询组长\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"saleName\",\"saleGroupName\"];\r\n            break;\r\n          case 5: //咨询师\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"saleName\",\"saleGroupName\"];\r\n            break;\r\n          case 6: // 项目经理\r\n            //this.indexedit = [true,true,true,false,false,true];\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"spreadName\"];\r\n            break;\r\n          case 7: // 客服经理\r\n            //this.indexedit = [true,true,true,false,false,false,true];\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"\",\"customName\"];\r\n            break;\r\n          case 8: //客服组长\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"\",\"customName\",\"customGroupName\"];\r\n            // this.trendsList(index);\r\n            break;\r\n          case 9: // 在线客服\r\n            //this.indexedit = [true,true,true,false,false,false,true,true];\r\n            this.indexedit = [\"userGroupName\",\"groupName\",\"legionName\",\"\",\"\",\"\",\"customName\",\"customGroupName\"];\r\n            //this.trendsList(index);\r\n            break;\r\n\r\n        }\r\n      }\r\n  },\r\n  /*data(){\r\n    return {\r\n        dialogFormVisible:false,\r\n        dialogFormVisibleEdit: false,\r\n        indexedit:[true,true],\r\n        seatDataWatch: this.seatData, // 为实现父子组件双向绑定而生\r\n        hideList:[],\r\n        EditList:{},\r\n        currentPage:3,\r\n        formInline: {\r\n          default:\"\",\r\n          select:\"\"\r\n        },\r\n        // 主要是为了做验证\r\n        requiredOBJ:{\r\n          userGroupName: \"\",\r\n          groupName: \"\",\r\n          legionName: \"\",\r\n          saleName: \"\",\r\n          saleGroupName : \"\",\r\n          spreadName: \"\",\r\n          customName: \"\",\r\n          customGroupName: \"\",\r\n          name: \"\",\r\n          mobile:\"\",\r\n          callSeat:\"\",\r\n          userName:\"\",\r\n          transformPassword: \"\"\r\n        },\r\n        findFormInline: [\r\n          {default:\"\", label:\"条件搜索\", list:[\"在职\",\"离职\"]},\r\n          {default:\"\", list:[\"事业群总经理\",\"事业部经理\",\"咨询部经理\",\"咨询组长\",\"咨询师\",\"项目经理\",\"客服组长\",\"在线客服\"]},\r\n        ],\r\n        // 新增的弹框\r\n        newsFormInline: {\r\n          userGroupName: {default:\"\",defaultbb:\"\", label:\"用户组\", list:[\"事业群总经理\",\"事业部经理\",\"咨询部经理\",\"咨询组长\",\"咨询师\",\"项目经理\",\"客服经理\",\"客服组长\",\"在线客服\"]},\r\n          groupName: {default:\"\", label:\"事业群\", list:[\"一\",\"二\"]},\r\n          legionName : {default:\"\", label:\"事业部\", list:[\"1部\",\"2部\"]},\r\n          saleName: {default:\"\", label:\"咨询部\", list:[\"1部\",\"2部\"]},\r\n          saleGroupName : {default:\"\", label:\"咨询组\", list:[\"1组\",\"2组\"]},\r\n          spreadName:{default:\"\",label:\"推广部\",list:[\"一部\",\"二部\"]},\r\n          customName: {default:\"\", label:\"客服部\", list:[\"一部\",\"2部\",\"3部\",\"4部\"]},\r\n          customGroupName: {default:\"\", label:\"客服组\", list:[\"一组\",\"二组\",\"三组\",\"四组\"]},\r\n          name: {default:\"\", label:\"姓名\"},\r\n          mobile: {default:\"\", label:\"手机号码\"},\r\n          callSeat: {default:\"\", label:\"呼叫坐席\"},\r\n          userName: {default:\"\", label:\"账号\"},\r\n          transformPassword: {default:\"\", label:\"密码\"}\r\n        },\r\n        // 编辑的弹框\r\n        newsFormInlineEidt: {\r\n          userGroupName: {default:\"\",defaultbb:\"\", label:\"用户组\", list:[\"事业群总经理\",\"事业部经理\",\"咨询部经理\",\"咨询组长\",\"咨询师\",\"项目经理\",\"客服经理\",\"客服组长\",\"在线客服\"]},\r\n          groupName: {default:\"\", label:\"事业群\", list:[\"一\",\"二\"]},\r\n          legionName : {default:\"\", label:\"事业部\", list:[\"1部\",\"2部\"]},\r\n          saleName: {default:\"\", label:\"咨询部\", list:[\"1部\",\"2部\"]},\r\n          saleGroupName : {default:\"\", label:\"咨询组\", list:[\"1组\",\"2组\"]},\r\n          spreadName:{default:\"\",label:\"推广部\",list:[\"一部\",\"二部\"]},\r\n          customName: {default:\"\", label:\"客服部\", list:[\"一部\",\"2部\",\"3部\",\"4部\"]},\r\n          customGroupName: {default:\"\", label:\"客服组\", list:[\"一组\",\"二组\",\"三组\",\"四组\"]},\r\n          name: {default:\"\", label:\"姓名\"},\r\n          mobile: {default:\"\", label:\"手机号码\"},\r\n          callSeat: {default:\"\", label:\"呼叫坐席\"},\r\n          userName: {default:\"\", label:\"账号\"},\r\n          transformPassword: {default:\"\", label:\"密码\"},\r\n          status: {default:\"在职\"}\r\n        }\r\n    }\r\n  }*/\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n  .wrap {\r\n    margin-left: 280px;\r\n    padding: 20px;\r\n    .demo-form-inline{\r\n      text-align: left;\r\n      margin:15px 0;\r\n    }\r\n    .left{\r\n      text-align: left;\r\n    }\r\n\r\n    .el-table th>.cell{\r\n      text-align: center;\r\n    }\r\n    .input-with-select .el-input-group__prepend {\r\n      background-color: #fff;\r\n    }\r\n    .left .el-dialog .el-form--inline .el-form-item{\r\n      width: 47%;\r\n    }\r\n  }\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/system/children/employee.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('bread-crumb',[_c('h2',[_vm._v(\"坐席管理\")]),_vm._v(\" \"),(_vm.$root.perm.ZXGL_XZZX)?_c('el-button',{attrs:{\"slot\":\"right\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleUpdate()}},slot:\"right\"},[_vm._v(\"新增坐席\")]):_vm._e()],1),_vm._v(\" \"),_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.params,\"label-width\":\"80px\",\"size\":\"small\"}},[_c('label',{staticClass:\"el-form-item__label boldFont\",staticStyle:{\"font-weight\":\"normal\"}},[_vm._v(\"精确查找:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"input-with-select\",style:(\"width:240px\"),attrs:{\"clearable\":true,\"placeholder\":\"请输入内容\",\"size\":\"small\"},model:{value:(_vm.params[_vm.searchField[_vm.searchFieldName]]),callback:function ($$v) {_vm.$set(_vm.params, _vm.searchField[_vm.searchFieldName], $$v)},expression:\"params[searchField[searchFieldName]]\"}},[_c('el-select',{style:(\"width:100px\"),attrs:{\"slot\":\"prepend\",\"placeholder\":\"请选择\"},slot:\"prepend\",model:{value:(_vm.searchFieldName),callback:function ($$v) {_vm.searchFieldName=$$v},expression:\"searchFieldName\"}},_vm._l(([\"姓名\",\"ID\",\"手机号\"]),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":index}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否在职\"}},[_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"clearable\":true,\"placeholder\":\"请选择\"},model:{value:(_vm.params.status),callback:function ($$v) {_vm.$set(_vm.params, \"status\", $$v)},expression:\"params.status\"}},_vm._l((_vm.statusOptions),function(item,key){return _c('el-option',{key:key,attrs:{\"label\":item.label,\"value\":item.id}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户组\"}},[_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"clearable\":true,\"placeholder\":\"请选择\"},model:{value:(_vm.params.roleIdFk),callback:function ($$v) {_vm.$set(_vm.params, \"roleIdFk\", $$v)},expression:\"params.roleIdFk\"}},_vm._l((_vm.roleOptions),function(item,key){return _c('el-option',{key:key,attrs:{\"label\":item.roleName,\"value\":item.roleId}})}))],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.beforeSearch(1)}}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('data-pagination',{attrs:{\"page-data\":_vm.page},on:{\"change\":_vm.beforeSearch}},[_c('el-table',{staticClass:\"table\",attrs:{\"slot\":\"table\",\"data\":_vm.list},slot:\"table\"},[_c('el-table-column',{attrs:{\"prop\":\"userId\",\"label\":\"ID\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"100\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"用户组\",\"width\":\"130\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"账号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"callSeat\",\"label\":\"呼叫座席\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bu\",\"label\":\"事业部\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"deptChild\",\"label\":\"子部门\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"group\",\"label\":\"小组\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(scope.row.status == 1 ? '在职' : scope.row.status == 0 ? '离职' : '禁用')+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleUpdate(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),(scope.row.status == 0)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")]):_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\",\"disabled\":\"\",\"title\":\"状态为离职的员工才可以删除\"}},[_vm._v(\"删除\")])]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"left\",attrs:{\"title\":_vm.updateParams.userId ? '编辑坐席' : '新增坐席',\"visible\":_vm.updateVisible,\"rules\":_vm.updateRules,\"close-on-click-modal\":false,\"width\":\"720px\"},on:{\"update:visible\":function($event){_vm.updateVisible=$event}}},[_c('el-form',{ref:\"updateForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.updateParams,\"rules\":_vm.updateRules,\"inline\":true,\"resetField\":true,\"label-width\":\"100px\"}},[_c('div',[_c('el-form-item',{attrs:{\"label\":\"部门\",\"prop\":\"deptIdFk\"}},[_c('el-cascader',{staticClass:\"mr20\",staticStyle:{\"width\":\"180px\"},attrs:{\"options\":_vm.updateParams.userId && _vm.deptInfo.deptLevel < 5 ? _vm.departmentNew : _vm.departmentTree,\"props\":_vm.departmentProps,\"clearable\":true,\"show-all-levels\":false,\"change-on-select\":true,\"expand-trigger\":\"hover\"},on:{\"blur\":function($event){_vm.getDeptRole(true)}},model:{value:(_vm.updateDeptId),callback:function ($$v) {_vm.updateDeptId=$$v},expression:\"updateDeptId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户组\",\"prop\":\"roleIdFk\"}},[_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.updateParams.roleIdFk),callback:function ($$v) {_vm.$set(_vm.updateParams, \"roleIdFk\", $$v)},expression:\"updateParams.roleIdFk\"}},_vm._l((_vm.updateRoleOptions),function(item,key){return _c('el-option',{key:key,attrs:{\"label\":item.roleName,\"value\":item.roleId}})}))],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.updateParams.name),callback:function ($$v) {_vm.$set(_vm.updateParams, \"name\", $$v)},expression:\"updateParams.name\"}})],1),_vm._v(\" \"),(_vm.updateParams.userId)?_c('el-form-item',{attrs:{\"label\":\"角色状态\",\"prop\":\"status\"}},[_c('el-select',{staticStyle:{\"width\":\"140px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.updateParams.status),callback:function ($$v) {_vm.$set(_vm.updateParams, \"status\", $$v)},expression:\"updateParams.status\"}},_vm._l((_vm.statusOptions),function(item,key){return _c('el-option',{key:key,attrs:{\"label\":item.label,\"value\":item.id}})}))],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.updateParams.mobile),callback:function ($$v) {_vm.$set(_vm.updateParams, \"mobile\", $$v)},expression:\"updateParams.mobile\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"呼叫坐席\",\"prop\":\"callSeat\"}},[_c('el-input',{model:{value:(_vm.updateParams.callSeat),callback:function ($$v) {_vm.$set(_vm.updateParams, \"callSeat\", $$v)},expression:\"updateParams.callSeat\"}})],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{attrs:{\"label\":\"登录账号\",\"prop\":\"userName\"}},[_c('el-input',{model:{value:(_vm.updateParams.userName),callback:function ($$v) {_vm.$set(_vm.updateParams, \"userName\", $$v)},expression:\"updateParams.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"transformPassword\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.updateParams.transformPassword),callback:function ($$v) {_vm.$set(_vm.updateParams, \"transformPassword\", $$v)},expression:\"updateParams.transformPassword\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.updateVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.beforeSubmit('updateForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-c152000c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/system/children/employee.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c152000c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./employee.vue\")\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c152000c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=1!./employee.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./employee.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./employee.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c152000c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./employee.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c152000c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/system/children/employee.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"wrap clearfix\">\r\n    <department @change=\"handleSelect\"></department>\r\n    <employee :selected-dept=\"selectedDept\"></employee>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Department from './children/department'\r\nimport Employee from './children/employee'\r\n\r\nexport default {\r\n  components: {\r\n    Department,\r\n    Employee\r\n  },\r\n  data() {\r\n    return {\r\n      selectedDept: null\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n    handleSelect(data) {\r\n      console.log(data)\r\n      this.selectedDept = data\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .wrap {\r\n    position: relative;\r\n    height: 100%;\r\n    min-height: calc(100% - 100px);\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/system/department.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap clearfix\"},[_c('department',{on:{\"change\":_vm.handleSelect}}),_vm._v(\" \"),_c('employee',{attrs:{\"selected-dept\":_vm.selectedDept}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-68ba8387\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/pages/system/department.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-68ba8387\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./department.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./department.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./department.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-68ba8387\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./department.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-68ba8387\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/system/department.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}