webpackJsonp([16],{QZhz:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l("a3Yh"),n=l.n(o),a=l("aA9S"),i=l.n(a),s={name:"publicOcean",components:{ElTablePagination:l("aw90").a},data:function(){return{consulorType:"followUserName",formWord:{keyword:"",type:"0"},isReceive:!0,showSearchForm:!1,formOptions:{intentSubject:"",chanceArea:[],createTimes:[],extendType:"",startFollowNum:void 0,endFollowNum:void 0,followTime:[],followUser:""},projectOptions:[],areaoptions:[],extendTypeOptions:[{value:0,label:"电话推广"},{value:1,label:"百度推广"}],columns:[{prop:"nick",label:"学员昵称"},{prop:"extendType",label:"推广类型",render:function(e){switch(e.extendType){case 0:return"电话推广";case 1:return"百度推广";default:return""}}},{prop:"intentSubjectName",label:"项目"},{prop:"createTime",label:"创建时间",render:function(e){return e.createTime?e.createTime.substr(0,10):""}},{prop:"validFollowCount",label:"有效跟进次数"},{prop:"lastValidFollowTime",label:"最后有效跟进时间",render:function(e){return e.lastValidFollowTime?e.lastValidFollowTime.substr(0,10):""}},{prop:"followUserName",label:"最后跟进人"}],url:"/api/stuPublic/qryStuPublicByCondition",areaProps:{value:"id",label:"city",children:"cities"},selectionRows:[]}},created:function(){var e=this;this.API.qryAllProject().then(function(t){e.projectOptions=t.list}),this.API.qryArea({areaId:1}).then(function(t){var l=t.result.map(function(e){return{id:e.id,city:e.province,cities:[]}});e.areaoptions=l})},methods:{getData:function(e){this.isReceive=e||!1},handleItemChange:function(e){if(!(e.length>1)&&e.length){var t=this.areaoptions;this.API.qryArea({areaId:e[0]}).then(function(l){t.forEach(function(t){if(t.id==e[0])return l.result[0].city?t.cities=l.result:t.cities="",!1})})}},receiveStudents:function(){var e=this;0!==this.selectionRows.length?this.$confirm("您确认要领取勾选的学员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=e.selectionRows,l=e.ids;l=t.map(function(e){return e.stuIdFk}),e.mdfStuPublic(l.join(","))}):this.$message({message:"请至少勾选一项",type:"warning"})},selectChange:function(e){this.selectionRows=e},receive:function(e){var t=this;this.$confirm("您确认要领取该学员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.mdfStuPublic(e.stuIdFk)})},mdfStuPublic:function(e){var t=this;this.API.mdfStuPublic({stuIds:e}).then(function(e){t.$message({type:"success",message:"操作成功!"}),t.searchHandle()})},exactSearch:function(){this.url="/api/stuPublic/qryStuPublicByaAccurate";var e=this.formWord,t=e.type,l=e.keyword;this.$nextTick(function(){this.searchHandle({type:t,contact:l})})},getParams:function(){var e=this.formOptions,t=e.chanceArea,l=e.createTimes,o=e.followTime,a=e.followUser,s=this.consulorType;return i()({},this.formOptions,n()({intentProvinceIdFk:t&&t.length>0?t[0]:"",intentCityIdFk:t&&t.length>1?t[1]:"",startCreateTime:l&&l.length>0?l[0]:"",endCreateTime:l&&l.length>1?l[1]:"",startFollowTime:o&&o.length>0?o[0]:"",endFollowTime:o&&o.length>1?o[1]:""},s,a))},search:function(){this.url="/api/stuPublic/qryStuPublicByCondition";var e=this.getParams();this.$nextTick(function(){this.searchHandle(e)})},searchHandle:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$refs.table.searchHandler(arguments[0])},reset:function(){this.formOptions.startFollowNum=void 0,this.formOptions.endFollowNum=void 0,this.$refs.searchForm.resetFields()}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main-inner"},[o("bread-crumb",[o("h2",[e._v("公海")])]),e._v(" "),o("section",{staticClass:"margin-bottom-20 clear"},[o("div",{staticClass:"el-col-6 clear margin-right-20",staticStyle:{"min-width":"400px"}},[o("label",{staticClass:"el-form-item__label boldFont",staticStyle:{width:"120px"}},[e._v("精确查找：")]),e._v(" "),o("el-input",{staticStyle:{width:"calc(100% - 120px)"},attrs:{placeholder:"请输入内容"},model:{value:e.formWord.keyword,callback:function(t){e.$set(e.formWord,"keyword",t)},expression:"formWord.keyword"}},[o("el-select",{staticStyle:{width:"110px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.formWord.type,callback:function(t){e.$set(e.formWord,"type",t)},expression:"formWord.type"}},[o("el-option",{attrs:{label:"手机",value:"0"}}),e._v(" "),o("el-option",{attrs:{label:"座机",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"微信",value:"2"}}),e._v(" "),o("el-option",{attrs:{label:"QQ",value:"3"}}),e._v(" "),o("el-option",{attrs:{label:"昵称",value:"5"}}),e._v(" "),o("el-option",{attrs:{label:"ID",value:"4"}})],1)],1)],1),e._v(" "),o("el-button",{attrs:{type:"success"},on:{click:e.exactSearch}},[e._v("查找")]),e._v(" "),o("span",{staticClass:"expandBtn margin-left-20",on:{click:function(t){e.showSearchForm=!e.showSearchForm}}},[e._v(e._s(e.showSearchForm?"收起筛选":"展开筛选")+"\n      "),o("i",{staticClass:"el-icon-arrow-up",class:{down:e.showSearchForm}})]),e._v(" "),o("div",{staticClass:"right"},[e.isReceive?o("el-button",{attrs:{type:"primary"},on:{click:e.receiveStudents}},[e._v("批量领取")]):e._e()],1)],1),e._v(" "),o("transition",{attrs:{name:"el-fade-in"}},[o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearchForm,expression:"showSearchForm"}],ref:"searchForm",staticClass:"search-from",attrs:{model:e.formOptions,"label-width":"120px","label-suffix":"："}},[o("el-row",[o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"项目",prop:"intentSubject"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.formOptions.intentSubject,callback:function(t){e.$set(e.formOptions,"intentSubject",t)},expression:"formOptions.intentSubject"}},e._l(e.projectOptions,function(e,t){return o("el-option",{key:t,attrs:{label:e.proName,value:e.proId}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"机会地域",prop:"chanceArea"}},[o("el-cascader",{staticClass:"full-width",staticStyle:{width:"100%"},attrs:{options:e.areaoptions,clearable:"",clearable:"",props:e.areaProps,"change-on-select":!0},on:{change:e.handleItemChange},model:{value:e.formOptions.chanceArea,callback:function(t){e.$set(e.formOptions,"chanceArea",t)},expression:"formOptions.chanceArea"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"创建时间",prop:"createTimes"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"daterange","value-format":"yyyy-MM-dd"},model:{value:e.formOptions.createTimes,callback:function(t){e.$set(e.formOptions,"createTimes",t)},expression:"formOptions.createTimes"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"推广类型",prop:"extendType"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.formOptions.extendType,callback:function(t){e.$set(e.formOptions,"extendType",t)},expression:"formOptions.extendType"}},e._l(e.extendTypeOptions,function(e,t){return o("el-option",{key:t,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"有效跟进次数"}},[o("el-row",[o("el-col",{attrs:{span:11}},[o("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1},model:{value:e.formOptions.startFollowNum,callback:function(t){e.$set(e.formOptions,"startFollowNum",t)},expression:"formOptions.startFollowNum"}})],1),e._v(" "),o("el-col",{staticClass:"text-center",attrs:{span:2}},[e._v("\n                -\n              ")]),e._v(" "),o("el-col",{attrs:{span:11}},[o("el-input-number",{staticStyle:{width:"100%"},attrs:{controls:!1},model:{value:e.formOptions.endFollowNum,callback:function(t){e.$set(e.formOptions,"endFollowNum",t)},expression:"formOptions.endFollowNum"}})],1)],1)],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"最后跟进时间",prop:"followTime"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{"start-placeholder":"开始日期","end-placeholder":"结束日期",type:"daterange","value-format":"yyyy-MM-dd"},model:{value:e.formOptions.followTime,callback:function(t){e.$set(e.formOptions,"followTime",t)},expression:"formOptions.followTime"}})],1)],1),e._v(" "),o("el-col",{attrs:{span:6}},[o("el-form-item",{attrs:{label:"最后跟进人",prop:"followUser"}},[o("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容",clearable:""},model:{value:e.formOptions.followUser,callback:function(t){e.$set(e.formOptions,"followUser",t)},expression:"formOptions.followUser"}},[o("el-select",{staticStyle:{width:"120px"},attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.consulorType,callback:function(t){e.consulorType=t},expression:"consulorType"}},[o("el-option",{attrs:{label:"咨询师姓名",value:"followUserName"}}),e._v(" "),o("el-option",{attrs:{label:"咨询师账号",value:"followUserAccount"}})],1)],1)],1)],1),e._v(" "),o("div",{staticClass:"btn-group inline-block right"},[o("el-button",{attrs:{type:"success"},nativeOn:{click:function(t){return e.search(t)}}},[e._v("\n            查询\n          ")]),e._v(" "),o("el-button",{attrs:{type:"success",plain:""},nativeOn:{click:function(t){return e.reset(t)}}},[e._v("\n            清空\n          ")])],1)],1)],1)],1),e._v(" "),o("el-table-pagination",{ref:"table",attrs:{columns:e.columns,url:e.url,totalField:"count",listField:"stuPublicVOS",dataField:"isReceive"},on:{"selection-change":e.selectChange,getData:e.getData}},[o("el-table-column",{attrs:{slot:"prepend",type:"selection",width:"55"},slot:"prepend"}),e._v(" "),o("el-table-column",{attrs:{slot:"append",label:"操作",align:"center"},slot:"append",scopedSlots:e._u([{key:"default",fn:function(t){return[e.isReceive?o("span",{on:{click:function(l){e.receive(t.row)}}},[o("img",{staticClass:"ver-middle inline-block",attrs:{src:l("tQKH"),width:"24",height:"24"}}),e._v(" "),o("el-button",{staticClass:"actionBtn ver-middle",attrs:{type:"text"}},[e._v("领取")])],1):e._e()]}}])})],1)],1)},staticRenderFns:[]};var c=l("Z0/y")(s,r,!1,function(e){l("Tli5")},"data-v-a7de6034",null);t.default=c.exports},Tli5:function(e,t){},tQKH:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUFDNUMxMUEzNDkwMTFFODlFMDNDOUY3RDlDRTEwQzUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUFDNUMxMUIzNDkwMTFFODlFMDNDOUY3RDlDRTEwQzUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyOUVBRjM2MTM0OTAxMUU4OUUwM0M5RjdEOUNFMTBDNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyOUVBRjM2MjM0OTAxMUU4OUUwM0M5RjdEOUNFMTBDNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhmY3ZAAAAKhSURBVHjavFfPaxNBFH4ZtyTWYmpNLKmieLAI/g+9ePQieFEQBBX6Dwge9OhF8OpF8D/wVPCqJ70WpIJUSFFK/UEqbUrXlKSJ35t9k67N7O7MNtsHH5nMzsz33sx7b96U6NWAHOUEMA2cBk4BZelj2Qf2gF2gDWxJX6YEDmMqwBxQA1TCGO6fAKaAWaAPtIANoJNXAV70AtAASuQnPPccUAd+AOuilLMCbPUV2eqjSEl2rwp8te2GbUuZ9NoYyJ3WVBbLr8p5jlsmZO1KkgLcni+IPK7EfJw3rgA73CQVL5PC9Z8CFfH245KGOQoTBXM5Qi3y8jrdwyq30KqNfO3TJ/pJiynR0VSSzWq57KjRHZzqopXcZTa4A0mvKqdL3da/HXpCf+g9WgPPZDWtJEnkTTN1/etPbqSqMj2/QW800mWUfJYea2REhDqcGCxWntcwUqcHuHIuj4ybokv628HdeVMj46ILYldqtszQdZz7Q+AuLuMXw/6zdAP/H2ljZmgNR/LO9Yr3c742fcAt/1YTlenpsD9qV/S3Nn30WTKQwiFwGt2Dv/+iZ7B4eWgxSRzsYUc2tXI+sq+yCgarMNEOzntATWBNt/3JteJseSiVjJ/sgPyvOF0vhxGRhLwD27nzABPnJ2fZVlJA9lMivKV/z9CC87JmrJlrF+bcMk7YkhrOZuUSwu4+naTngO8OLaV8bRknJKleBwnDXlOXXuLrpjMxj+U5PDc5c25Eee7gXXBRrsjjECb/frgiWpeIKFpC4RopydgpVoFugeRd4egnVcUcUl8KUqIra3ey3gX8vvs85uMIZc1dl4eJ2YmV1OhwjYdojZWklB9kJAr21N8Oj1Pb3CM/TuO70QS+Sf1YlSqqHJvfk+d5KKnd+Xn+T4ABAJrApLc2oS4UAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=16.7e4e31e5274a16d30ee3.js.map