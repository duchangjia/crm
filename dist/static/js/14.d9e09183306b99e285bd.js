webpackJsonp([14],{VLUY:function(t,e){},iA2B:function(t,e){t.exports={idOptions:[{id:0,label:"未知"},{id:1,label:"在职"},{id:2,label:"学生"},{id:3,label:"自雇"},{id:4,label:"待业"},{id:5,label:"自由职业"},{id:6,label:"家庭主妇"},{id:7,label:"其他"}],intentLubjectList:[{id:0,label:"未知"},{id:1,label:"相关行业"},{id:2,label:"非相关行业"},{id:3,label:"年级：初中,高中,大学"},{id:4,label:"专业"},{id:5,label:"淘宝店"},{id:6,label:"实体店"},{id:7,label:"刚毕业"},{id:8,label:"辞职、失业"}],degreeList:[{id:1,label:"强"},{id:2,label:"中"},{id:3,label:"弱"},{id:4,label:"无"}],sexList:[{id:1,label:"男"},{id:2,label:"女"}],levelList:[{id:0,label:"未知"},{id:1,label:"零基础"},{id:2,label:"有点基础"},{id:3,label:"基础较好"}],cardNoList:[{id:1,label:"中国大陆身份证"},{id:2,label:"港澳台居民身份证"}],classtimeList:[{id:0,label:"未知"},{id:1,label:"晚上"},{id:2,label:"周末"},{id:3,label:"业余时间"}],extendType:[{id:0,label:"未知"},{id:1,label:"百度推广"}],editReturnList:[{id:0,label:"隔天联系"},{id:1,label:"约定时间联系"},{id:2,label:"稍后在联系"},{id:3,label:"今晚联系"},{id:4,label:"不需要了"}],isItConnected:[{id:0,label:"接通"},{id:1,label:"无人接听"},{id:2,label:"空号"},{id:3,label:"停机/错号"}],studentContact:[{id:0,label:"手机"},{id:1,label:"座机"},{id:2,label:"微信"},{id:3,label:"QQ"}],communicateResults:[{id:0,label:"无效沟通"},{id:1,label:"有效沟通"}],backOut:[{id:0,label:"空号错号停机"},{id:1,label:"三次无们接听"},{id:2,label:"不符合报名条件"},{id:3,label:"没有符合的产品"},{id:4,label:"已报名其他机构"},{id:5,label:"号码错误"},{id:6,label:"明确表态不需要"},{id:7,label:"谈合作"},{id:8,label:"招聘"},{id:9,label:"打过去没有咨询过"}]}},l7ey:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l("s0MJ"),a=l("iA2B"),s=(l("9rMa"),{data:function(){return{validate:!0,isCardNo:!1,province:[],provinceProps:{value:"id",label:"city",children:"cities"},intentSubject:[],intentProvinceIdFk:[],intentCityIdFk:[],provinceIdFk:[],cityIdFk:[],contactList:[],stuInfo:{},idOptions:a.idOptions,intentLubjectList:a.intentLubjectList,degreeList:a.degreeList,sexList:a.sexList,levelList:a.levelList,classtimeList:a.classtimeList,cardNoList:a.cardNoList}},created:function(){this.qryArea(),this.getStuBaseInfo(),this.qryAllProject()},methods:{getStuBaseInfo:function(){var t=this;this.userId=this.$store.state.user.userInfo.userId,this.stuId=this.$router.currentRoute.query.stuId,this.$store.state.workbench.status=!1,this.API.getStuBaseInfo({stuId:this.stuId}).then(function(e){var l=e.result[0].contactList;l.forEach(function(t,e){t.validateMobile=!1,t.oldContact=t.contact}),t.contactList=l,t.stuInfo=e.result[0].stuInfo,t.intentProvinceIdFk[0]=t.stuInfo.intentProvinceIdFk,t.intentProvinceIdFk[1]=t.stuInfo.intentCityIdFk,t.provinceIdFk[0]=t.stuInfo.provinceIdFk,t.provinceIdFk[1]=t.stuInfo.cityIdFk}).catch(function(t){console.log(t.message)})},qryAllProject:function(){var t=this;this.API.qryAllProject().then(function(e){t.intentSubject=e.list}).catch(function(t){console.log(t.message)})},degreeEv:function(t){this.stuInfo.degree=t+1},sexEv:function(t){this.stuInfo.sex=t+1},levelEv:function(t){this.stuInfo.level=t},classtimeEv:function(t){this.stuInfo.classTime=t},qryArea:function(t){var e=this;this.API.qryArea({areaId:1}).then(function(t){var l=t.result.map(function(t){return{id:t.id,city:t.province||t.city,cities:[]}});e.province=l,e.intentProvinceIdFk[1]&&e.handleItemChange(e.intentProvinceIdFk[0]),e.provinceIdFk[1]&&e.handleItemChange(e.provinceIdFk[0])})},handleItemChange:function(t,e){"YXDY"==e?(this.stuInfo.intentProvinceIdFk=t[0],this.stuInfo.intentCityIdFk=t[1]):"XYDY"==e&&(this.stuInfo.provinceIdFk=t[0],this.stuInfo.cityIdFk=t[1]);var l=this.province;this.API.qryArea({areaId:t[0]||t}).then(function(e){l.forEach(function(l){if(l.id==t[0]||l.id==t)return e.result[0].city?l.cities=e.result:l.cities="",!1})})},_eidtSave:function(){var t=this;if(console.log(i.b),this.stuInfo.cardNo)if(1==this.stuInfo.cardType){if(!Object(i.g)(this.stuInfo.cardNo))return void this.$message({message:"请输入正确的身份证号",type:"warning"})}else if(2==this.stuInfo.cardType&&!Object(i.b)(this.stuInfo.cardNo))return void this.$message({message:"港澳台居民身份证",type:"warning"});var e={contactList:this.contactList,stuInfo:this.stuInfo,userIdFk:this.userId};this.validate?this.API.mdfStuInfo(e).then(function(e){t.$message({message:"保存成功",type:"success"}),window.history.back(-1)}).catch(function(t){console.log(t.message)}):this.$message({message:"请检查联系方式",type:"warning"})},_eidtback:function(){window.history.back(-1)},telblur:function(t,e){this.validateEvent(t,e,i.c,0)},Camerablur:function(t,e){this.validateEvent(t,e,i.d,1)},Weixinblur:function(t,e){this.validateEvent(t,e,i.f,2)},QQblur:function(t,e){this.validateEvent(t,e,i.e,3)},validateEvent:function(t,e,l,i){t.type==i&&(l(e)?(t.validateMobile=!1,this.validate=!0):(t.validateMobile=!0,this.validate=!1))},cardId:function(){}}}),n={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"studentInfo"},[l("h1",{staticClass:"title"},[t._v("编辑学员信息")]),t._v(" "),l("el-form",{ref:"eidtStudent",staticClass:"touch",attrs:{inline:!0,"label-width":"100px",size:"small"}},[l("div",{staticClass:"item"},[l("div",{staticClass:"studentHeader"},[l("span"),t._v(" "),l("h3",[t._v("联系方式")])]),t._v(" "),l("el-row",{staticClass:"touch"},[t._l(t.contactList,function(e,i){return[0==e.type?l("el-col",{attrs:{span:8}},[l("el-form-item",{staticClass:"is-required",attrs:{label:"手机号："}},[l("el-input",{on:{change:function(l){t.telblur(e,e.contact)}},model:{value:e.contact,callback:function(l){t.$set(e,"contact",l)},expression:"item.contact"}}),t._v(" "),e.validateMobile?l("span",{staticClass:"el-form-item__error"},[t._v("请输入正确的手机号")]):t._e()],1)],1):1==e.type?l("el-col",{attrs:{span:8}},[l("el-form-item",{staticClass:"is-required",attrs:{label:"座机："}},[l("el-input",{on:{change:function(l){t.Camerablur(e,e.contact)}},model:{value:e.contact,callback:function(l){t.$set(e,"contact",l)},expression:"item.contact"}}),t._v(" "),e.validateMobile?l("span",{staticClass:"el-form-item__error"},[t._v("请输入正确的座机号")]):t._e()],1)],1):2==e.type?l("el-col",{attrs:{span:8}},[l("el-form-item",{staticClass:"is-required",attrs:{label:"微信："}},[l("el-input",{on:{change:function(l){t.Weixinblur(e,e.contact)}},model:{value:e.contact,callback:function(l){t.$set(e,"contact",l)},expression:"item.contact"}}),t._v(" "),e.validateMobile?l("span",{staticClass:"el-form-item__error"},[t._v("请输入正确的微信号")]):t._e()],1)],1):3==e.type?l("el-col",{attrs:{span:8}},[l("el-form-item",{staticClass:"is-required",attrs:{label:"QQ："}},[l("el-input",{on:{change:function(l){t.QQblur(e,e.contact)}},model:{value:e.contact,callback:function(l){t.$set(e,"contact",l)},expression:"item.contact"}}),t._v(" "),e.validateMobile?l("span",{staticClass:"el-form-item__error"},[t._v("请输入正确的QQ号")]):t._e()],1)],1):t._e()]})],2)],1),t._v(" "),l("div",{staticClass:"item"},[l("div",{staticClass:"studentHeader"},[l("span"),t._v(" "),l("h3",[t._v("学员概要")])]),t._v(" "),l("el-row",{staticClass:"touch"},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"意向度："}},[l("ul",{staticClass:"radio-group"},t._l(t.degreeList,function(e,i){return l("li",{key:i,class:i==t.stuInfo.degree-1?"cur":"",attrs:{label:e.label},on:{click:function(e){t.degreeEv(i)}}},[t._v(t._s(e.label))])}))])],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"意向项目："}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:t.stuInfo.intentSubject,callback:function(e){t.$set(t.stuInfo,"intentSubject",e)},expression:"stuInfo.intentSubject"}},t._l(t.intentSubject,function(t,e){return l("el-option",{key:e,attrs:{label:t.proName,value:t.proId}})}))],1)],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"意向地域："}},[l("el-cascader",{attrs:{options:t.province,"change-on-select":!0,clearable:"",props:t.provinceProps},on:{change:function(e){t.handleItemChange(e,"YXDY")}},model:{value:t.intentProvinceIdFk,callback:function(e){t.intentProvinceIdFk=e},expression:"intentProvinceIdFk"}})],1)],1)],1)],1),t._v(" "),l("div",{staticClass:"item"},[l("div",{staticClass:"studentHeader"},[l("span"),t._v(" "),l("h3",[t._v("基本信息")])]),t._v(" "),l("el-row",{staticClass:"touch"},[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"昵称："}},[l("el-input",{model:{value:t.stuInfo.nick,callback:function(e){t.$set(t.stuInfo,"nick",e)},expression:"stuInfo.nick"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"真实姓名："}},[l("el-input",{model:{value:t.stuInfo.name,callback:function(e){t.$set(t.stuInfo,"name",e)},expression:"stuInfo.name"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"学员地域："}},[l("el-cascader",{attrs:{options:t.province,"change-on-select":!0,clearable:"",props:t.provinceProps},on:{change:function(e){t.handleItemChange(e,"XYDY")}},model:{value:t.provinceIdFk,callback:function(e){t.provinceIdFk=e},expression:"provinceIdFk"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"性别："}},[l("ul",{staticClass:"radio-group"},t._l(t.sexList,function(e,i){return l("li",{key:i,class:i==t.stuInfo.sex-1?"cur":"",on:{click:function(e){t.sexEv(i)}}},[t._v(t._s(e.label))])}))])],1),t._v(" "),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"年龄："}},[l("el-input",{model:{value:t.stuInfo.age,callback:function(e){t.$set(t.stuInfo,"age",e)},expression:"stuInfo.age"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"身份证："}},[l("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:"请选择"},on:{change:t.cardId},model:{value:t.stuInfo.cardType,callback:function(e){t.$set(t.stuInfo,"cardType",e)},expression:"stuInfo.cardType"}},t._l(t.cardNoList,function(t,e){return l("el-option",{key:e,attrs:{label:t.label,value:t.id}})})),t._v(" "),l("el-input",{staticStyle:{width:"55%"},model:{value:t.stuInfo.cardNo,callback:function(e){t.$set(t.stuInfo,"cardNo",e)},expression:"stuInfo.cardNo"}}),t._v(" "),t.isCardNo?l("span",{staticClass:"el-form-item__error"},[t._v("请输入正确的身份证号")]):t._e()],1)],1)],1)],1),t._v(" "),l("div",{staticClass:"item"},[l("div",{staticClass:"studentHeader"},[l("span"),t._v(" "),l("h3",[t._v("详细信息")])]),t._v(" "),l("el-row",{staticClass:"touch"},[l("el-col",{attrs:{span:13}},[l("el-form-item",{attrs:{label:"身份："}},[l("el-select",{staticStyle:{width:"30%"},attrs:{placeholder:"请选择"},model:{value:t.stuInfo.identity,callback:function(e){t.$set(t.stuInfo,"identity",e)},expression:"stuInfo.identity"}},t._l(t.idOptions,function(t,e){return l("el-option",{key:e,attrs:{label:t.label,value:t.id}})})),t._v(" "),l("el-select",{staticStyle:{width:"40%"},attrs:{placeholder:""},model:{value:t.stuInfo.industry,callback:function(e){t.$set(t.stuInfo,"industry",e)},expression:"stuInfo.industry"}},t._l(t.intentLubjectList,function(t,e){return l("el-option",{key:e,attrs:{label:t.label,value:t.id}})}))],1)],1),t._v(" "),l("el-col",{attrs:{span:11}},[l("el-form-item",{attrs:{label:"水平："}},[l("ul",{staticClass:"radio-group"},t._l(t.levelList,function(e,i){return l("li",{key:i,class:i==t.stuInfo.level?"cur":"",on:{click:function(e){t.levelEv(i)}}},[t._v(t._s(e.label))])}))])],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"计划上课时间：","label-width":"140px"}},[l("ul",{staticClass:"radio-group"},t._l(t.classtimeList,function(e,i){return l("li",{key:i,class:i==t.stuInfo.classTime?"cur":"",on:{click:function(e){t.classtimeEv(i)}}},[t._v(t._s(e.label))])}))])],1),t._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"开始学习时间：","label-width":"140px"}},[l("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.stuInfo.startStudyTime,callback:function(e){t.$set(t.stuInfo,"startStudyTime",e)},expression:"stuInfo.startStudyTime"}})],1)],1),t._v(" "),l("el-col",{attrs:{span:24}},[l("el-form-item",{staticClass:"textarea",attrs:{label:"学习用途："}},[l("el-input",{attrs:{type:"textarea"},model:{value:t.stuInfo.purpose,callback:function(e){t.$set(t.stuInfo,"purpose",e)},expression:"stuInfo.purpose"}})],1)],1)],1)],1)]),t._v(" "),l("div",{staticClass:"ctr"},[l("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){t._eidtSave()}}},[t._v("保存")]),t._v(" "),l("el-button",{staticClass:"btn",attrs:{type:""},on:{click:function(e){t._eidtback()}}},[t._v("返回")])],1)],1)},staticRenderFns:[]};var o=l("Z0/y")(s,n,!1,function(t){l("VLUY"),l("v5XQ")},"data-v-27acebbc",null);e.default=o.exports},v5XQ:function(t,e){}});
//# sourceMappingURL=14.d9e09183306b99e285bd.js.map